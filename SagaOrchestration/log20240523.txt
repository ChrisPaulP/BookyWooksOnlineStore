2024-05-23 16:48:36.072 +01:00 [WRN] No store type was specified for the decimal property 'OrderTotal' on entity type 'OrderStateInstance'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-05-23 16:48:38.221 +01:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-05-23 16:48:38.278 +01:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-05-23 16:48:38.294 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-05-23 16:48:38.307 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-05-23 16:48:38.371 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-05-23 16:48:38.408 +01:00 [INF] No migrations were applied. The database is already up to date.
2024-05-23 16:48:39.545 +01:00 [INF] Configured endpoint create-order-message-queue, Saga: SagaOrchestration.StateInstances.OrderStateInstance, State Machine: SagaOrchestration.StateMachines.OrderStateMachine
2024-05-23 16:48:39.887 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-23 16:48:39.900 +01:00 [INF] Hosting environment: Development
2024-05-23 16:48:39.957 +01:00 [INF] Content root path: C:\Users\porterc\source\repos\BookyWooksOnlineStore\SagaOrchestration
2024-05-23 16:48:40.882 +01:00 [INF] Bus started: "rabbitmq://localhost/"
2024-05-23 16:48:51.696 +01:00 [INF] Executed DbCommand (256ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 16:49:02.038 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 16:49:12.060 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 16:49:22.106 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 16:49:32.144 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 16:49:42.271 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 16:49:52.297 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 16:50:02.325 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 16:50:12.337 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 16:50:22.361 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 16:50:32.379 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 16:50:42.402 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 16:50:52.421 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 16:51:02.447 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 16:51:12.487 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 16:51:22.542 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 16:51:32.562 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 16:51:42.588 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 16:59:29.717 +01:00 [WRN] No store type was specified for the decimal property 'OrderTotal' on entity type 'OrderStateInstance'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-05-23 16:59:31.962 +01:00 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-05-23 16:59:32.094 +01:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-05-23 16:59:32.149 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-05-23 16:59:32.175 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-05-23 16:59:32.240 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-05-23 16:59:32.297 +01:00 [INF] No migrations were applied. The database is already up to date.
2024-05-23 16:59:33.445 +01:00 [INF] Configured endpoint create-order-message-queue, Saga: SagaOrchestration.StateInstances.OrderStateInstance, State Machine: SagaOrchestration.StateMachines.OrderStateMachine
2024-05-23 16:59:33.957 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-23 16:59:33.970 +01:00 [INF] Hosting environment: Development
2024-05-23 16:59:33.977 +01:00 [INF] Content root path: C:\Users\porterc\source\repos\BookyWooksOnlineStore\SagaOrchestration
2024-05-23 16:59:34.491 +01:00 [INF] Bus started: "rabbitmq://localhost/"
2024-05-23 16:59:44.792 +01:00 [INF] Executed DbCommand (187ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 16:59:54.936 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:00:04.969 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:00:15.111 +01:00 [INF] Executed DbCommand (109ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:00:32.011 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:00:42.162 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:07:35.212 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:07:47.278 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:07:57.364 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:08:07.384 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:08:17.398 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:08:27.417 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:08:37.442 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:08:47.454 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:08:57.473 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:09:07.504 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:09:17.535 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:09:27.560 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:09:37.579 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:09:47.595 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:09:57.625 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:10:07.643 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:10:17.664 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:10:28.425 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:10:38.755 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:10:51.412 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:11:01.441 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:15:03.182 +01:00 [INF] Executed DbCommand (17ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:15:13.981 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:15:17.516 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[p0='?' (DbType = Guid), p1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[Consumed], [m].[ConsumerId], [m].[Delivered], [m].[ExpirationTime], [m].[LastSequenceNumber], [m].[LockId], [m].[MessageId], [m].[ReceiveCount], [m].[Received], [m].[RowVersion]
FROM (
    SELECT * FROM InboxState WITH (UPDLOCK, ROWLOCK) WHERE MessageId = @p0 AND ConsumerId = @p1
) AS [m]
2024-05-23 17:15:17.998 +01:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2024-05-23 17:15:18.078 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int64), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [InboxState] ([Consumed], [ConsumerId], [Delivered], [ExpirationTime], [LastSequenceNumber], [LockId], [MessageId], [ReceiveCount], [Received])
OUTPUT INSERTED.[Id], INSERTED.[RowVersion]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2024-05-23 17:15:18.183 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[p0='?' (DbType = Guid), p1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[Consumed], [m].[ConsumerId], [m].[Delivered], [m].[ExpirationTime], [m].[LastSequenceNumber], [m].[LockId], [m].[MessageId], [m].[ReceiveCount], [m].[Received], [m].[RowVersion]
FROM (
    SELECT * FROM InboxState WITH (UPDLOCK, ROWLOCK) WHERE MessageId = @p0 AND ConsumerId = @p1
) AS [m]
2024-05-23 17:15:18.214 +01:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2024-05-23 17:15:18.234 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@p7='?' (DbType = Int64), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int64), @p4='?' (DbType = Guid), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p8='?' (Size = 8) (DbType = Binary)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [InboxState] SET [Consumed] = @p0, [Delivered] = @p1, [ExpirationTime] = @p2, [LastSequenceNumber] = @p3, [LockId] = @p4, [ReceiveCount] = @p5, [Received] = @p6
OUTPUT INSERTED.[RowVersion]
WHERE [Id] = @p7 AND [RowVersion] = @p8;
2024-05-23 17:15:18.319 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[CorrelationId], [o].[CreatedDate], [o].[CurrentState], [o].[CustomerId], [o].[OrderId], [o].[OrderTotal]
FROM [OrderStateInstance] AS [o]
WHERE [o].[OrderId] = 'd8d998b1-3d3d-4b2a-8b86-8aef96bedd66'
2024-05-23 17:15:18.391 +01:00 [INF] CreateOrderMessage received in OrderStateMachine: CorrelationId: 744b62c0-8c5a-4668-bdfe-df7d09941e81
CurrentState: Initial
OrderId: 00000000-0000-0000-0000-000000000000
CustomerId: 00000000-0000-0000-0000-000000000000
OrderTotal: 0
CreatedDate: 01/01/0001 00:00:00
------------------------ 
2024-05-23 17:15:18.582 +01:00 [INF] CheckBookStockCommand published in OrderStateMachine: CorrelationId: 744b62c0-8c5a-4668-bdfe-df7d09941e81
CurrentState: StockCheck
OrderId: d8d998b1-3d3d-4b2a-8b86-8aef96bedd66
CustomerId: 4287c1cf-40be-44d1-8639-5781514f3f8a
OrderTotal: 42.48
CreatedDate: 23/05/2024 16:15:18
------------------------ 
2024-05-23 17:15:18.636 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = Guid), @p4='?' (DbType = Guid), @p5='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [OrderStateInstance] ([CorrelationId], [CreatedDate], [CurrentState], [CustomerId], [OrderId], [OrderTotal])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2024-05-23 17:15:18.690 +01:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2024-05-23 17:15:18.742 +01:00 [INF] Executed DbCommand (21ms) [Parameters=[@p7='?' (DbType = Int64), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int64), @p4='?' (DbType = Guid), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p8='?' (Size = 8) (DbType = Binary), @p9='?' (Size = 4000), @p10='?' (Size = 256), @p11='?' (DbType = Guid), @p12='?' (DbType = Guid), @p13='?' (Size = 256), @p14='?' (DbType = DateTime2), @p15='?' (DbType = DateTime2), @p16='?' (Size = 256), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Guid), @p20='?' (DbType = Guid), @p21='?' (DbType = Guid), @p22='?' (Size = 4000), @p23='?' (DbType = Guid), @p24='?' (Size = 4000), @p25='?' (DbType = Guid), @p26='?' (Size = 256), @p27='?' (DbType = DateTime2), @p28='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [InboxState] SET [Consumed] = @p0, [Delivered] = @p1, [ExpirationTime] = @p2, [LastSequenceNumber] = @p3, [LockId] = @p4, [ReceiveCount] = @p5, [Received] = @p6
OUTPUT INSERTED.[RowVersion]
WHERE [Id] = @p7 AND [RowVersion] = @p8;
INSERT INTO [OutboxMessage] ([Body], [ContentType], [ConversationId], [CorrelationId], [DestinationAddress], [EnqueueTime], [ExpirationTime], [FaultAddress], [Headers], [InboxConsumerId], [InboxMessageId], [InitiatorId], [MessageId], [MessageType], [OutboxId], [Properties], [RequestId], [ResponseAddress], [SentTime], [SourceAddress])
OUTPUT INSERTED.[SequenceNumber]
VALUES (@p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28);
2024-05-23 17:15:18.814 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[p0='?' (DbType = Guid), p1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[Consumed], [m].[ConsumerId], [m].[Delivered], [m].[ExpirationTime], [m].[LastSequenceNumber], [m].[LockId], [m].[MessageId], [m].[ReceiveCount], [m].[Received], [m].[RowVersion]
FROM (
    SELECT * FROM InboxState WITH (UPDLOCK, ROWLOCK) WHERE MessageId = @p0 AND ConsumerId = @p1
) AS [m]
2024-05-23 17:15:18.831 +01:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2024-05-23 17:15:18.839 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p7='?' (DbType = Int64), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int64), @p4='?' (DbType = Guid), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p8='?' (Size = 8) (DbType = Binary)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [InboxState] SET [Consumed] = @p0, [Delivered] = @p1, [ExpirationTime] = @p2, [LastSequenceNumber] = @p3, [LockId] = @p4, [ReceiveCount] = @p5, [Received] = @p6
OUTPUT INSERTED.[RowVersion]
WHERE [Id] = @p7 AND [RowVersion] = @p8;
2024-05-23 17:15:18.869 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_3='?' (DbType = Int32), @__MessageId_0='?' (DbType = Guid), @__ConsumerId_1='?' (DbType = Guid), @__lastSequenceNumber_2='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_3) [o].[SequenceNumber], [o].[Body], [o].[ContentType], [o].[ConversationId], [o].[CorrelationId], [o].[DestinationAddress], [o].[EnqueueTime], [o].[ExpirationTime], [o].[FaultAddress], [o].[Headers], [o].[InboxConsumerId], [o].[InboxMessageId], [o].[InitiatorId], [o].[MessageId], [o].[MessageType], [o].[OutboxId], [o].[Properties], [o].[RequestId], [o].[ResponseAddress], [o].[SentTime], [o].[SourceAddress]
FROM [OutboxMessage] AS [o]
WHERE [o].[InboxMessageId] = @__MessageId_0 AND [o].[InboxConsumerId] = @__ConsumerId_1 AND [o].[SequenceNumber] > @__lastSequenceNumber_2
ORDER BY [o].[SequenceNumber]
2024-05-23 17:15:18.991 +01:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2024-05-23 17:15:19.000 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p7='?' (DbType = Int64), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int64), @p4='?' (DbType = Guid), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p8='?' (Size = 8) (DbType = Binary)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [InboxState] SET [Consumed] = @p0, [Delivered] = @p1, [ExpirationTime] = @p2, [LastSequenceNumber] = @p3, [LockId] = @p4, [ReceiveCount] = @p5, [Received] = @p6
OUTPUT INSERTED.[RowVersion]
WHERE [Id] = @p7 AND [RowVersion] = @p8;
2024-05-23 17:15:19.018 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[p0='?' (DbType = Guid), p1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[Consumed], [m].[ConsumerId], [m].[Delivered], [m].[ExpirationTime], [m].[LastSequenceNumber], [m].[LockId], [m].[MessageId], [m].[ReceiveCount], [m].[Received], [m].[RowVersion]
FROM (
    SELECT * FROM InboxState WITH (UPDLOCK, ROWLOCK) WHERE MessageId = @p0 AND ConsumerId = @p1
) AS [m]
2024-05-23 17:15:19.030 +01:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2024-05-23 17:15:19.037 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p7='?' (DbType = Int64), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int64), @p4='?' (DbType = Guid), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p8='?' (Size = 8) (DbType = Binary)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [InboxState] SET [Consumed] = @p0, [Delivered] = @p1, [ExpirationTime] = @p2, [LastSequenceNumber] = @p3, [LockId] = @p4, [ReceiveCount] = @p5, [Received] = @p6
OUTPUT INSERTED.[RowVersion]
WHERE [Id] = @p7 AND [RowVersion] = @p8;
2024-05-23 17:15:19.054 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_3='?' (DbType = Int32), @__MessageId_0='?' (DbType = Guid), @__ConsumerId_1='?' (DbType = Guid), @__lastSequenceNumber_2='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_3) [o].[SequenceNumber], [o].[Body], [o].[ContentType], [o].[ConversationId], [o].[CorrelationId], [o].[DestinationAddress], [o].[EnqueueTime], [o].[ExpirationTime], [o].[FaultAddress], [o].[Headers], [o].[InboxConsumerId], [o].[InboxMessageId], [o].[InitiatorId], [o].[MessageId], [o].[MessageType], [o].[OutboxId], [o].[Properties], [o].[RequestId], [o].[ResponseAddress], [o].[SentTime], [o].[SourceAddress]
FROM [OutboxMessage] AS [o]
WHERE [o].[InboxMessageId] = @__MessageId_0 AND [o].[InboxConsumerId] = @__ConsumerId_1 AND [o].[SequenceNumber] > @__lastSequenceNumber_2
ORDER BY [o].[SequenceNumber]
2024-05-23 17:15:19.072 +01:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2024-05-23 17:15:19.081 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p7='?' (DbType = Int64), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int64), @p4='?' (DbType = Guid), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p8='?' (Size = 8) (DbType = Binary)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [InboxState] SET [Consumed] = @p0, [Delivered] = @p1, [ExpirationTime] = @p2, [LastSequenceNumber] = @p3, [LockId] = @p4, [ReceiveCount] = @p5, [Received] = @p6
OUTPUT INSERTED.[RowVersion]
WHERE [Id] = @p7 AND [RowVersion] = @p8;
2024-05-23 17:15:19.100 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[p0='?' (DbType = Guid), p1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[Consumed], [m].[ConsumerId], [m].[Delivered], [m].[ExpirationTime], [m].[LastSequenceNumber], [m].[LockId], [m].[MessageId], [m].[ReceiveCount], [m].[Received], [m].[RowVersion]
FROM (
    SELECT * FROM InboxState WITH (UPDLOCK, ROWLOCK) WHERE MessageId = @p0 AND ConsumerId = @p1
) AS [m]
2024-05-23 17:15:19.112 +01:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2024-05-23 17:15:19.124 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@p7='?' (DbType = Int64), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int64), @p4='?' (DbType = Guid), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p8='?' (Size = 8) (DbType = Binary)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [InboxState] SET [Consumed] = @p0, [Delivered] = @p1, [ExpirationTime] = @p2, [LastSequenceNumber] = @p3, [LockId] = @p4, [ReceiveCount] = @p5, [Received] = @p6
OUTPUT INSERTED.[RowVersion]
WHERE [Id] = @p7 AND [RowVersion] = @p8;
2024-05-23 17:15:19.147 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__MessageId_0='?' (DbType = Guid), @__ConsumerId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[SequenceNumber], [o].[Body], [o].[ContentType], [o].[ConversationId], [o].[CorrelationId], [o].[DestinationAddress], [o].[EnqueueTime], [o].[ExpirationTime], [o].[FaultAddress], [o].[Headers], [o].[InboxConsumerId], [o].[InboxMessageId], [o].[InitiatorId], [o].[MessageId], [o].[MessageType], [o].[OutboxId], [o].[Properties], [o].[RequestId], [o].[ResponseAddress], [o].[SentTime], [o].[SourceAddress]
FROM [OutboxMessage] AS [o]
WHERE [o].[InboxMessageId] = @__MessageId_0 AND [o].[InboxConsumerId] = @__ConsumerId_1
2024-05-23 17:15:26.016 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:15:26.045 +01:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2024-05-23 17:15:26.062 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [OutboxMessage]
OUTPUT 1
WHERE [SequenceNumber] = @p0;
2024-05-23 17:15:37.557 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:15:37.979 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[p0='?' (DbType = Guid), p1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[Consumed], [m].[ConsumerId], [m].[Delivered], [m].[ExpirationTime], [m].[LastSequenceNumber], [m].[LockId], [m].[MessageId], [m].[ReceiveCount], [m].[Received], [m].[RowVersion]
FROM (
    SELECT * FROM InboxState WITH (UPDLOCK, ROWLOCK) WHERE MessageId = @p0 AND ConsumerId = @p1
) AS [m]
2024-05-23 17:15:37.995 +01:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2024-05-23 17:15:38.009 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int64), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [InboxState] ([Consumed], [ConsumerId], [Delivered], [ExpirationTime], [LastSequenceNumber], [LockId], [MessageId], [ReceiveCount], [Received])
OUTPUT INSERTED.[Id], INSERTED.[RowVersion]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2024-05-23 17:15:38.027 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[p0='?' (DbType = Guid), p1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[Consumed], [m].[ConsumerId], [m].[Delivered], [m].[ExpirationTime], [m].[LastSequenceNumber], [m].[LockId], [m].[MessageId], [m].[ReceiveCount], [m].[Received], [m].[RowVersion]
FROM (
    SELECT * FROM InboxState WITH (UPDLOCK, ROWLOCK) WHERE MessageId = @p0 AND ConsumerId = @p1
) AS [m]
2024-05-23 17:15:38.042 +01:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2024-05-23 17:15:38.056 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@p7='?' (DbType = Int64), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int64), @p4='?' (DbType = Guid), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p8='?' (Size = 8) (DbType = Binary)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [InboxState] SET [Consumed] = @p0, [Delivered] = @p1, [ExpirationTime] = @p2, [LastSequenceNumber] = @p3, [LockId] = @p4, [ReceiveCount] = @p5, [Received] = @p6
OUTPUT INSERTED.[RowVersion]
WHERE [Id] = @p7 AND [RowVersion] = @p8;
2024-05-23 17:15:38.113 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [o].[CorrelationId], [o].[CreatedDate], [o].[CurrentState], [o].[CustomerId], [o].[OrderId], [o].[OrderTotal]
FROM [OrderStateInstance] AS [o]
WHERE [o].[CorrelationId] = @__id
2024-05-23 17:15:38.136 +01:00 [INF] StockReservedEvent received in OrderStateMachine: CorrelationId: 744b62c0-8c5a-4668-bdfe-df7d09941e81
CurrentState: StockCheck
OrderId: d8d998b1-3d3d-4b2a-8b86-8aef96bedd66
CustomerId: 4287c1cf-40be-44d1-8639-5781514f3f8a
OrderTotal: 42.48
CreatedDate: 23/05/2024 16:15:18
------------------------ 
2024-05-23 17:15:38.163 +01:00 [INF] CompletePaymentMessage sent in OrderStateMachine: CorrelationId: 744b62c0-8c5a-4668-bdfe-df7d09941e81
CurrentState: StockReserved
OrderId: d8d998b1-3d3d-4b2a-8b86-8aef96bedd66
CustomerId: 4287c1cf-40be-44d1-8639-5781514f3f8a
OrderTotal: 42.48
CreatedDate: 23/05/2024 16:15:18
------------------------ 
2024-05-23 17:15:38.180 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [OrderStateInstance] SET [CurrentState] = @p0
OUTPUT 1
WHERE [CorrelationId] = @p1;
2024-05-23 17:15:38.201 +01:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2024-05-23 17:15:38.220 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@p7='?' (DbType = Int64), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int64), @p4='?' (DbType = Guid), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p8='?' (Size = 8) (DbType = Binary), @p9='?' (Size = 4000), @p10='?' (Size = 256), @p11='?' (DbType = Guid), @p12='?' (DbType = Guid), @p13='?' (Size = 256), @p14='?' (DbType = DateTime2), @p15='?' (DbType = DateTime2), @p16='?' (Size = 256), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Guid), @p20='?' (DbType = Guid), @p21='?' (DbType = Guid), @p22='?' (Size = 4000), @p23='?' (DbType = Guid), @p24='?' (Size = 4000), @p25='?' (DbType = Guid), @p26='?' (Size = 256), @p27='?' (DbType = DateTime2), @p28='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [InboxState] SET [Consumed] = @p0, [Delivered] = @p1, [ExpirationTime] = @p2, [LastSequenceNumber] = @p3, [LockId] = @p4, [ReceiveCount] = @p5, [Received] = @p6
OUTPUT INSERTED.[RowVersion]
WHERE [Id] = @p7 AND [RowVersion] = @p8;
INSERT INTO [OutboxMessage] ([Body], [ContentType], [ConversationId], [CorrelationId], [DestinationAddress], [EnqueueTime], [ExpirationTime], [FaultAddress], [Headers], [InboxConsumerId], [InboxMessageId], [InitiatorId], [MessageId], [MessageType], [OutboxId], [Properties], [RequestId], [ResponseAddress], [SentTime], [SourceAddress])
OUTPUT INSERTED.[SequenceNumber]
VALUES (@p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28);
2024-05-23 17:15:38.247 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[p0='?' (DbType = Guid), p1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[Consumed], [m].[ConsumerId], [m].[Delivered], [m].[ExpirationTime], [m].[LastSequenceNumber], [m].[LockId], [m].[MessageId], [m].[ReceiveCount], [m].[Received], [m].[RowVersion]
FROM (
    SELECT * FROM InboxState WITH (UPDLOCK, ROWLOCK) WHERE MessageId = @p0 AND ConsumerId = @p1
) AS [m]
2024-05-23 17:15:38.259 +01:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2024-05-23 17:15:38.276 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@p7='?' (DbType = Int64), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int64), @p4='?' (DbType = Guid), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p8='?' (Size = 8) (DbType = Binary)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [InboxState] SET [Consumed] = @p0, [Delivered] = @p1, [ExpirationTime] = @p2, [LastSequenceNumber] = @p3, [LockId] = @p4, [ReceiveCount] = @p5, [Received] = @p6
OUTPUT INSERTED.[RowVersion]
WHERE [Id] = @p7 AND [RowVersion] = @p8;
2024-05-23 17:15:38.302 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_3='?' (DbType = Int32), @__MessageId_0='?' (DbType = Guid), @__ConsumerId_1='?' (DbType = Guid), @__lastSequenceNumber_2='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_3) [o].[SequenceNumber], [o].[Body], [o].[ContentType], [o].[ConversationId], [o].[CorrelationId], [o].[DestinationAddress], [o].[EnqueueTime], [o].[ExpirationTime], [o].[FaultAddress], [o].[Headers], [o].[InboxConsumerId], [o].[InboxMessageId], [o].[InitiatorId], [o].[MessageId], [o].[MessageType], [o].[OutboxId], [o].[Properties], [o].[RequestId], [o].[ResponseAddress], [o].[SentTime], [o].[SourceAddress]
FROM [OutboxMessage] AS [o]
WHERE [o].[InboxMessageId] = @__MessageId_0 AND [o].[InboxConsumerId] = @__ConsumerId_1 AND [o].[SequenceNumber] > @__lastSequenceNumber_2
ORDER BY [o].[SequenceNumber]
2024-05-23 17:15:38.383 +01:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2024-05-23 17:15:38.395 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p7='?' (DbType = Int64), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int64), @p4='?' (DbType = Guid), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p8='?' (Size = 8) (DbType = Binary)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [InboxState] SET [Consumed] = @p0, [Delivered] = @p1, [ExpirationTime] = @p2, [LastSequenceNumber] = @p3, [LockId] = @p4, [ReceiveCount] = @p5, [Received] = @p6
OUTPUT INSERTED.[RowVersion]
WHERE [Id] = @p7 AND [RowVersion] = @p8;
2024-05-23 17:15:38.414 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[p0='?' (DbType = Guid), p1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[Consumed], [m].[ConsumerId], [m].[Delivered], [m].[ExpirationTime], [m].[LastSequenceNumber], [m].[LockId], [m].[MessageId], [m].[ReceiveCount], [m].[Received], [m].[RowVersion]
FROM (
    SELECT * FROM InboxState WITH (UPDLOCK, ROWLOCK) WHERE MessageId = @p0 AND ConsumerId = @p1
) AS [m]
2024-05-23 17:15:38.431 +01:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2024-05-23 17:15:38.444 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p7='?' (DbType = Int64), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int64), @p4='?' (DbType = Guid), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p8='?' (Size = 8) (DbType = Binary)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [InboxState] SET [Consumed] = @p0, [Delivered] = @p1, [ExpirationTime] = @p2, [LastSequenceNumber] = @p3, [LockId] = @p4, [ReceiveCount] = @p5, [Received] = @p6
OUTPUT INSERTED.[RowVersion]
WHERE [Id] = @p7 AND [RowVersion] = @p8;
2024-05-23 17:15:38.463 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_3='?' (DbType = Int32), @__MessageId_0='?' (DbType = Guid), @__ConsumerId_1='?' (DbType = Guid), @__lastSequenceNumber_2='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_3) [o].[SequenceNumber], [o].[Body], [o].[ContentType], [o].[ConversationId], [o].[CorrelationId], [o].[DestinationAddress], [o].[EnqueueTime], [o].[ExpirationTime], [o].[FaultAddress], [o].[Headers], [o].[InboxConsumerId], [o].[InboxMessageId], [o].[InitiatorId], [o].[MessageId], [o].[MessageType], [o].[OutboxId], [o].[Properties], [o].[RequestId], [o].[ResponseAddress], [o].[SentTime], [o].[SourceAddress]
FROM [OutboxMessage] AS [o]
WHERE [o].[InboxMessageId] = @__MessageId_0 AND [o].[InboxConsumerId] = @__ConsumerId_1 AND [o].[SequenceNumber] > @__lastSequenceNumber_2
ORDER BY [o].[SequenceNumber]
2024-05-23 17:15:38.486 +01:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2024-05-23 17:15:38.495 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p7='?' (DbType = Int64), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int64), @p4='?' (DbType = Guid), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p8='?' (Size = 8) (DbType = Binary)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [InboxState] SET [Consumed] = @p0, [Delivered] = @p1, [ExpirationTime] = @p2, [LastSequenceNumber] = @p3, [LockId] = @p4, [ReceiveCount] = @p5, [Received] = @p6
OUTPUT INSERTED.[RowVersion]
WHERE [Id] = @p7 AND [RowVersion] = @p8;
2024-05-23 17:15:38.512 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[p0='?' (DbType = Guid), p1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[Consumed], [m].[ConsumerId], [m].[Delivered], [m].[ExpirationTime], [m].[LastSequenceNumber], [m].[LockId], [m].[MessageId], [m].[ReceiveCount], [m].[Received], [m].[RowVersion]
FROM (
    SELECT * FROM InboxState WITH (UPDLOCK, ROWLOCK) WHERE MessageId = @p0 AND ConsumerId = @p1
) AS [m]
2024-05-23 17:15:38.682 +01:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2024-05-23 17:15:38.721 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@p7='?' (DbType = Int64), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int64), @p4='?' (DbType = Guid), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p8='?' (Size = 8) (DbType = Binary)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [InboxState] SET [Consumed] = @p0, [Delivered] = @p1, [ExpirationTime] = @p2, [LastSequenceNumber] = @p3, [LockId] = @p4, [ReceiveCount] = @p5, [Received] = @p6
OUTPUT INSERTED.[RowVersion]
WHERE [Id] = @p7 AND [RowVersion] = @p8;
2024-05-23 17:15:38.748 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__MessageId_0='?' (DbType = Guid), @__ConsumerId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[SequenceNumber], [o].[Body], [o].[ContentType], [o].[ConversationId], [o].[CorrelationId], [o].[DestinationAddress], [o].[EnqueueTime], [o].[ExpirationTime], [o].[FaultAddress], [o].[Headers], [o].[InboxConsumerId], [o].[InboxMessageId], [o].[InitiatorId], [o].[MessageId], [o].[MessageType], [o].[OutboxId], [o].[Properties], [o].[RequestId], [o].[ResponseAddress], [o].[SentTime], [o].[SourceAddress]
FROM [OutboxMessage] AS [o]
WHERE [o].[InboxMessageId] = @__MessageId_0 AND [o].[InboxConsumerId] = @__ConsumerId_1
2024-05-23 17:15:38.774 +01:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2024-05-23 17:15:38.794 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [OutboxMessage]
OUTPUT 1
WHERE [SequenceNumber] = @p0;
2024-05-23 17:15:47.634 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:15:57.939 +01:00 [INF] Executed DbCommand (113ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:15:58.013 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[@p0='?' (DbType = Int64), @p1='?' (Size = 8) (DbType = Binary)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [InboxState]
OUTPUT 1
WHERE [Id] = @p0 AND [RowVersion] = @p1;
2024-05-23 17:15:58.068 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:16:08.174 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:16:18.208 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:16:18.264 +01:00 [INF] Executed DbCommand (37ms) [Parameters=[@p0='?' (DbType = Int64), @p1='?' (Size = 8) (DbType = Binary)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [InboxState]
OUTPUT 1
WHERE [Id] = @p0 AND [RowVersion] = @p1;
2024-05-23 17:16:18.356 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:16:28.542 +01:00 [INF] Executed DbCommand (29ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:16:38.632 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:16:48.653 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:16:58.681 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:17:08.700 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:17:18.748 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:17:28.806 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:17:38.824 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:17:48.841 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:17:58.852 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:18:08.866 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:18:18.883 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:18:28.918 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:18:39.035 +01:00 [INF] Executed DbCommand (34ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:18:49.247 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:18:59.256 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:19:09.265 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:19:19.284 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:19:29.309 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:19:39.318 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:19:49.333 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:19:59.352 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:20:09.375 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:20:19.396 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:20:29.417 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:20:39.430 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:20:49.449 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:20:59.473 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:21:09.512 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:21:19.540 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:21:29.556 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:21:39.579 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:21:49.594 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:21:59.616 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:22:09.650 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:22:19.675 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:22:29.694 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:22:39.716 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:22:49.735 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:22:59.746 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:23:09.768 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:23:19.789 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:23:29.807 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:23:39.819 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:23:49.848 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:23:59.888 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:24:09.913 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:24:19.959 +01:00 [INF] Executed DbCommand (18ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:24:29.990 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:24:40.004 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:24:50.030 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:25:00.057 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:25:10.079 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:25:20.097 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:25:30.113 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:25:40.132 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:25:50.144 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:26:00.160 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:26:10.179 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:26:20.208 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:26:30.242 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:26:40.266 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:26:50.288 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:27:00.308 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:27:10.331 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:27:20.360 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:27:30.384 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:27:40.397 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:27:50.416 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:28:00.434 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:28:10.447 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:28:20.458 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:28:30.474 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:28:40.490 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:28:50.505 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:29:00.517 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:29:10.531 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:29:20.550 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:29:30.562 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:29:40.575 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:29:50.600 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:30:00.617 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:30:10.640 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:30:20.662 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:30:30.682 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:30:40.704 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:30:50.729 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:31:00.763 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:31:10.795 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:37:03.289 +01:00 [WRN] No store type was specified for the decimal property 'OrderTotal' on entity type 'OrderStateInstance'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-05-23 17:37:04.929 +01:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-05-23 17:37:04.983 +01:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-05-23 17:37:04.999 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-05-23 17:37:05.011 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-05-23 17:37:05.061 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-05-23 17:37:05.096 +01:00 [INF] No migrations were applied. The database is already up to date.
2024-05-23 17:38:22.997 +01:00 [INF] Configured endpoint create-order-message-queue, Saga: SagaOrchestration.StateInstances.OrderStateInstance, State Machine: SagaOrchestration.StateMachines.OrderStateMachine
2024-05-23 17:38:23.198 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-23 17:38:23.229 +01:00 [INF] Hosting environment: Development
2024-05-23 17:38:23.247 +01:00 [INF] Content root path: C:\Users\porterc\source\repos\BookyWooksOnlineStore\SagaOrchestration
2024-05-23 17:38:23.637 +01:00 [INF] Bus started: "rabbitmq://localhost/"
2024-05-23 17:38:33.885 +01:00 [INF] Executed DbCommand (148ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:38:44.029 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:38:54.059 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:39:04.086 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:39:14.104 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:39:24.127 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:39:45.534 +01:00 [INF] Executed DbCommand (17ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:39:57.207 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:40:16.262 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:40:19.440 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[p0='?' (DbType = Guid), p1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[Consumed], [m].[ConsumerId], [m].[Delivered], [m].[ExpirationTime], [m].[LastSequenceNumber], [m].[LockId], [m].[MessageId], [m].[ReceiveCount], [m].[Received], [m].[RowVersion]
FROM (
    SELECT * FROM InboxState WITH (UPDLOCK, ROWLOCK) WHERE MessageId = @p0 AND ConsumerId = @p1
) AS [m]
2024-05-23 17:40:19.780 +01:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2024-05-23 17:40:19.802 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int64), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [InboxState] ([Consumed], [ConsumerId], [Delivered], [ExpirationTime], [LastSequenceNumber], [LockId], [MessageId], [ReceiveCount], [Received])
OUTPUT INSERTED.[Id], INSERTED.[RowVersion]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2024-05-23 17:40:19.887 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[p0='?' (DbType = Guid), p1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[Consumed], [m].[ConsumerId], [m].[Delivered], [m].[ExpirationTime], [m].[LastSequenceNumber], [m].[LockId], [m].[MessageId], [m].[ReceiveCount], [m].[Received], [m].[RowVersion]
FROM (
    SELECT * FROM InboxState WITH (UPDLOCK, ROWLOCK) WHERE MessageId = @p0 AND ConsumerId = @p1
) AS [m]
2024-05-23 17:40:19.916 +01:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2024-05-23 17:40:19.931 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@p7='?' (DbType = Int64), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int64), @p4='?' (DbType = Guid), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p8='?' (Size = 8) (DbType = Binary)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [InboxState] SET [Consumed] = @p0, [Delivered] = @p1, [ExpirationTime] = @p2, [LastSequenceNumber] = @p3, [LockId] = @p4, [ReceiveCount] = @p5, [Received] = @p6
OUTPUT INSERTED.[RowVersion]
WHERE [Id] = @p7 AND [RowVersion] = @p8;
2024-05-23 17:40:20.013 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[CorrelationId], [o].[CreatedDate], [o].[CurrentState], [o].[CustomerId], [o].[OrderId], [o].[OrderTotal]
FROM [OrderStateInstance] AS [o]
WHERE [o].[OrderId] = '68a105f6-5c19-4485-bbc9-cc73e6ccbb59'
2024-05-23 17:40:20.077 +01:00 [INF] CreateOrderMessage received in OrderStateMachine: CorrelationId: 69c57400-a966-4e5d-95f9-cf80dd748d61
CurrentState: Initial
OrderId: 00000000-0000-0000-0000-000000000000
CustomerId: 00000000-0000-0000-0000-000000000000
OrderTotal: 0
CreatedDate: 01/01/0001 00:00:00
------------------------ 
2024-05-23 17:40:20.249 +01:00 [INF] CheckBookStockCommand published in OrderStateMachine: CorrelationId: 69c57400-a966-4e5d-95f9-cf80dd748d61
CurrentState: StockCheck
OrderId: 68a105f6-5c19-4485-bbc9-cc73e6ccbb59
CustomerId: 4287c1cf-40be-44d1-8639-5781514f3f8a
OrderTotal: 42.48
CreatedDate: 23/05/2024 16:40:20
------------------------ 
2024-05-23 17:40:20.295 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = Guid), @p4='?' (DbType = Guid), @p5='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [OrderStateInstance] ([CorrelationId], [CreatedDate], [CurrentState], [CustomerId], [OrderId], [OrderTotal])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2024-05-23 17:40:20.359 +01:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2024-05-23 17:40:20.373 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@p7='?' (DbType = Int64), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int64), @p4='?' (DbType = Guid), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p8='?' (Size = 8) (DbType = Binary), @p9='?' (Size = 4000), @p10='?' (Size = 256), @p11='?' (DbType = Guid), @p12='?' (DbType = Guid), @p13='?' (Size = 256), @p14='?' (DbType = DateTime2), @p15='?' (DbType = DateTime2), @p16='?' (Size = 256), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Guid), @p20='?' (DbType = Guid), @p21='?' (DbType = Guid), @p22='?' (Size = 4000), @p23='?' (DbType = Guid), @p24='?' (Size = 4000), @p25='?' (DbType = Guid), @p26='?' (Size = 256), @p27='?' (DbType = DateTime2), @p28='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [InboxState] SET [Consumed] = @p0, [Delivered] = @p1, [ExpirationTime] = @p2, [LastSequenceNumber] = @p3, [LockId] = @p4, [ReceiveCount] = @p5, [Received] = @p6
OUTPUT INSERTED.[RowVersion]
WHERE [Id] = @p7 AND [RowVersion] = @p8;
INSERT INTO [OutboxMessage] ([Body], [ContentType], [ConversationId], [CorrelationId], [DestinationAddress], [EnqueueTime], [ExpirationTime], [FaultAddress], [Headers], [InboxConsumerId], [InboxMessageId], [InitiatorId], [MessageId], [MessageType], [OutboxId], [Properties], [RequestId], [ResponseAddress], [SentTime], [SourceAddress])
OUTPUT INSERTED.[SequenceNumber]
VALUES (@p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28);
2024-05-23 17:40:20.401 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[p0='?' (DbType = Guid), p1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[Consumed], [m].[ConsumerId], [m].[Delivered], [m].[ExpirationTime], [m].[LastSequenceNumber], [m].[LockId], [m].[MessageId], [m].[ReceiveCount], [m].[Received], [m].[RowVersion]
FROM (
    SELECT * FROM InboxState WITH (UPDLOCK, ROWLOCK) WHERE MessageId = @p0 AND ConsumerId = @p1
) AS [m]
2024-05-23 17:40:20.418 +01:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2024-05-23 17:40:20.430 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p7='?' (DbType = Int64), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int64), @p4='?' (DbType = Guid), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p8='?' (Size = 8) (DbType = Binary)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [InboxState] SET [Consumed] = @p0, [Delivered] = @p1, [ExpirationTime] = @p2, [LastSequenceNumber] = @p3, [LockId] = @p4, [ReceiveCount] = @p5, [Received] = @p6
OUTPUT INSERTED.[RowVersion]
WHERE [Id] = @p7 AND [RowVersion] = @p8;
2024-05-23 17:40:20.465 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_3='?' (DbType = Int32), @__MessageId_0='?' (DbType = Guid), @__ConsumerId_1='?' (DbType = Guid), @__lastSequenceNumber_2='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_3) [o].[SequenceNumber], [o].[Body], [o].[ContentType], [o].[ConversationId], [o].[CorrelationId], [o].[DestinationAddress], [o].[EnqueueTime], [o].[ExpirationTime], [o].[FaultAddress], [o].[Headers], [o].[InboxConsumerId], [o].[InboxMessageId], [o].[InitiatorId], [o].[MessageId], [o].[MessageType], [o].[OutboxId], [o].[Properties], [o].[RequestId], [o].[ResponseAddress], [o].[SentTime], [o].[SourceAddress]
FROM [OutboxMessage] AS [o]
WHERE [o].[InboxMessageId] = @__MessageId_0 AND [o].[InboxConsumerId] = @__ConsumerId_1 AND [o].[SequenceNumber] > @__lastSequenceNumber_2
ORDER BY [o].[SequenceNumber]
2024-05-23 17:40:20.601 +01:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2024-05-23 17:40:20.610 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@p7='?' (DbType = Int64), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int64), @p4='?' (DbType = Guid), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p8='?' (Size = 8) (DbType = Binary)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [InboxState] SET [Consumed] = @p0, [Delivered] = @p1, [ExpirationTime] = @p2, [LastSequenceNumber] = @p3, [LockId] = @p4, [ReceiveCount] = @p5, [Received] = @p6
OUTPUT INSERTED.[RowVersion]
WHERE [Id] = @p7 AND [RowVersion] = @p8;
2024-05-23 17:40:20.632 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[p0='?' (DbType = Guid), p1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[Consumed], [m].[ConsumerId], [m].[Delivered], [m].[ExpirationTime], [m].[LastSequenceNumber], [m].[LockId], [m].[MessageId], [m].[ReceiveCount], [m].[Received], [m].[RowVersion]
FROM (
    SELECT * FROM InboxState WITH (UPDLOCK, ROWLOCK) WHERE MessageId = @p0 AND ConsumerId = @p1
) AS [m]
2024-05-23 17:40:20.647 +01:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2024-05-23 17:40:20.656 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@p7='?' (DbType = Int64), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int64), @p4='?' (DbType = Guid), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p8='?' (Size = 8) (DbType = Binary)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [InboxState] SET [Consumed] = @p0, [Delivered] = @p1, [ExpirationTime] = @p2, [LastSequenceNumber] = @p3, [LockId] = @p4, [ReceiveCount] = @p5, [Received] = @p6
OUTPUT INSERTED.[RowVersion]
WHERE [Id] = @p7 AND [RowVersion] = @p8;
2024-05-23 17:40:20.670 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_3='?' (DbType = Int32), @__MessageId_0='?' (DbType = Guid), @__ConsumerId_1='?' (DbType = Guid), @__lastSequenceNumber_2='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_3) [o].[SequenceNumber], [o].[Body], [o].[ContentType], [o].[ConversationId], [o].[CorrelationId], [o].[DestinationAddress], [o].[EnqueueTime], [o].[ExpirationTime], [o].[FaultAddress], [o].[Headers], [o].[InboxConsumerId], [o].[InboxMessageId], [o].[InitiatorId], [o].[MessageId], [o].[MessageType], [o].[OutboxId], [o].[Properties], [o].[RequestId], [o].[ResponseAddress], [o].[SentTime], [o].[SourceAddress]
FROM [OutboxMessage] AS [o]
WHERE [o].[InboxMessageId] = @__MessageId_0 AND [o].[InboxConsumerId] = @__ConsumerId_1 AND [o].[SequenceNumber] > @__lastSequenceNumber_2
ORDER BY [o].[SequenceNumber]
2024-05-23 17:40:20.687 +01:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2024-05-23 17:40:20.696 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p7='?' (DbType = Int64), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int64), @p4='?' (DbType = Guid), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p8='?' (Size = 8) (DbType = Binary)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [InboxState] SET [Consumed] = @p0, [Delivered] = @p1, [ExpirationTime] = @p2, [LastSequenceNumber] = @p3, [LockId] = @p4, [ReceiveCount] = @p5, [Received] = @p6
OUTPUT INSERTED.[RowVersion]
WHERE [Id] = @p7 AND [RowVersion] = @p8;
2024-05-23 17:40:20.714 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[p0='?' (DbType = Guid), p1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[Consumed], [m].[ConsumerId], [m].[Delivered], [m].[ExpirationTime], [m].[LastSequenceNumber], [m].[LockId], [m].[MessageId], [m].[ReceiveCount], [m].[Received], [m].[RowVersion]
FROM (
    SELECT * FROM InboxState WITH (UPDLOCK, ROWLOCK) WHERE MessageId = @p0 AND ConsumerId = @p1
) AS [m]
2024-05-23 17:40:20.731 +01:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2024-05-23 17:40:20.744 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p7='?' (DbType = Int64), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int64), @p4='?' (DbType = Guid), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p8='?' (Size = 8) (DbType = Binary)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [InboxState] SET [Consumed] = @p0, [Delivered] = @p1, [ExpirationTime] = @p2, [LastSequenceNumber] = @p3, [LockId] = @p4, [ReceiveCount] = @p5, [Received] = @p6
OUTPUT INSERTED.[RowVersion]
WHERE [Id] = @p7 AND [RowVersion] = @p8;
2024-05-23 17:40:20.770 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__MessageId_0='?' (DbType = Guid), @__ConsumerId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[SequenceNumber], [o].[Body], [o].[ContentType], [o].[ConversationId], [o].[CorrelationId], [o].[DestinationAddress], [o].[EnqueueTime], [o].[ExpirationTime], [o].[FaultAddress], [o].[Headers], [o].[InboxConsumerId], [o].[InboxMessageId], [o].[InitiatorId], [o].[MessageId], [o].[MessageType], [o].[OutboxId], [o].[Properties], [o].[RequestId], [o].[ResponseAddress], [o].[SentTime], [o].[SourceAddress]
FROM [OutboxMessage] AS [o]
WHERE [o].[InboxMessageId] = @__MessageId_0 AND [o].[InboxConsumerId] = @__ConsumerId_1
2024-05-23 17:40:31.150 +01:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2024-05-23 17:40:31.122 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:40:31.172 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [OutboxMessage]
OUTPUT 1
WHERE [SequenceNumber] = @p0;
2024-05-23 17:40:44.483 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:40:44.829 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[p0='?' (DbType = Guid), p1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[Consumed], [m].[ConsumerId], [m].[Delivered], [m].[ExpirationTime], [m].[LastSequenceNumber], [m].[LockId], [m].[MessageId], [m].[ReceiveCount], [m].[Received], [m].[RowVersion]
FROM (
    SELECT * FROM InboxState WITH (UPDLOCK, ROWLOCK) WHERE MessageId = @p0 AND ConsumerId = @p1
) AS [m]
2024-05-23 17:40:44.846 +01:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2024-05-23 17:40:44.858 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int64), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [InboxState] ([Consumed], [ConsumerId], [Delivered], [ExpirationTime], [LastSequenceNumber], [LockId], [MessageId], [ReceiveCount], [Received])
OUTPUT INSERTED.[Id], INSERTED.[RowVersion]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2024-05-23 17:40:44.871 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[p0='?' (DbType = Guid), p1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[Consumed], [m].[ConsumerId], [m].[Delivered], [m].[ExpirationTime], [m].[LastSequenceNumber], [m].[LockId], [m].[MessageId], [m].[ReceiveCount], [m].[Received], [m].[RowVersion]
FROM (
    SELECT * FROM InboxState WITH (UPDLOCK, ROWLOCK) WHERE MessageId = @p0 AND ConsumerId = @p1
) AS [m]
2024-05-23 17:40:44.883 +01:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2024-05-23 17:40:44.893 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@p7='?' (DbType = Int64), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int64), @p4='?' (DbType = Guid), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p8='?' (Size = 8) (DbType = Binary)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [InboxState] SET [Consumed] = @p0, [Delivered] = @p1, [ExpirationTime] = @p2, [LastSequenceNumber] = @p3, [LockId] = @p4, [ReceiveCount] = @p5, [Received] = @p6
OUTPUT INSERTED.[RowVersion]
WHERE [Id] = @p7 AND [RowVersion] = @p8;
2024-05-23 17:40:44.942 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [o].[CorrelationId], [o].[CreatedDate], [o].[CurrentState], [o].[CustomerId], [o].[OrderId], [o].[OrderTotal]
FROM [OrderStateInstance] AS [o]
WHERE [o].[CorrelationId] = @__id
2024-05-23 17:40:44.959 +01:00 [INF] StockReservedEvent received in OrderStateMachine: CorrelationId: 69c57400-a966-4e5d-95f9-cf80dd748d61
CurrentState: StockCheck
OrderId: 68a105f6-5c19-4485-bbc9-cc73e6ccbb59
CustomerId: 4287c1cf-40be-44d1-8639-5781514f3f8a
OrderTotal: 42.48
CreatedDate: 23/05/2024 16:40:20
------------------------ 
2024-05-23 17:40:44.972 +01:00 [INF] CompletePaymentMessage sent in OrderStateMachine: CorrelationId: 69c57400-a966-4e5d-95f9-cf80dd748d61
CurrentState: StockReserved
OrderId: 68a105f6-5c19-4485-bbc9-cc73e6ccbb59
CustomerId: 4287c1cf-40be-44d1-8639-5781514f3f8a
OrderTotal: 42.48
CreatedDate: 23/05/2024 16:40:20
------------------------ 
2024-05-23 17:40:44.983 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [OrderStateInstance] SET [CurrentState] = @p0
OUTPUT 1
WHERE [CorrelationId] = @p1;
2024-05-23 17:40:44.999 +01:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2024-05-23 17:40:45.011 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@p7='?' (DbType = Int64), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int64), @p4='?' (DbType = Guid), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p8='?' (Size = 8) (DbType = Binary), @p9='?' (Size = 4000), @p10='?' (Size = 256), @p11='?' (DbType = Guid), @p12='?' (DbType = Guid), @p13='?' (Size = 256), @p14='?' (DbType = DateTime2), @p15='?' (DbType = DateTime2), @p16='?' (Size = 256), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Guid), @p20='?' (DbType = Guid), @p21='?' (DbType = Guid), @p22='?' (Size = 4000), @p23='?' (DbType = Guid), @p24='?' (Size = 4000), @p25='?' (DbType = Guid), @p26='?' (Size = 256), @p27='?' (DbType = DateTime2), @p28='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [InboxState] SET [Consumed] = @p0, [Delivered] = @p1, [ExpirationTime] = @p2, [LastSequenceNumber] = @p3, [LockId] = @p4, [ReceiveCount] = @p5, [Received] = @p6
OUTPUT INSERTED.[RowVersion]
WHERE [Id] = @p7 AND [RowVersion] = @p8;
INSERT INTO [OutboxMessage] ([Body], [ContentType], [ConversationId], [CorrelationId], [DestinationAddress], [EnqueueTime], [ExpirationTime], [FaultAddress], [Headers], [InboxConsumerId], [InboxMessageId], [InitiatorId], [MessageId], [MessageType], [OutboxId], [Properties], [RequestId], [ResponseAddress], [SentTime], [SourceAddress])
OUTPUT INSERTED.[SequenceNumber]
VALUES (@p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28);
2024-05-23 17:40:45.028 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[p0='?' (DbType = Guid), p1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[Consumed], [m].[ConsumerId], [m].[Delivered], [m].[ExpirationTime], [m].[LastSequenceNumber], [m].[LockId], [m].[MessageId], [m].[ReceiveCount], [m].[Received], [m].[RowVersion]
FROM (
    SELECT * FROM InboxState WITH (UPDLOCK, ROWLOCK) WHERE MessageId = @p0 AND ConsumerId = @p1
) AS [m]
2024-05-23 17:40:45.040 +01:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2024-05-23 17:40:45.049 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p7='?' (DbType = Int64), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int64), @p4='?' (DbType = Guid), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p8='?' (Size = 8) (DbType = Binary)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [InboxState] SET [Consumed] = @p0, [Delivered] = @p1, [ExpirationTime] = @p2, [LastSequenceNumber] = @p3, [LockId] = @p4, [ReceiveCount] = @p5, [Received] = @p6
OUTPUT INSERTED.[RowVersion]
WHERE [Id] = @p7 AND [RowVersion] = @p8;
2024-05-23 17:40:45.068 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_3='?' (DbType = Int32), @__MessageId_0='?' (DbType = Guid), @__ConsumerId_1='?' (DbType = Guid), @__lastSequenceNumber_2='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_3) [o].[SequenceNumber], [o].[Body], [o].[ContentType], [o].[ConversationId], [o].[CorrelationId], [o].[DestinationAddress], [o].[EnqueueTime], [o].[ExpirationTime], [o].[FaultAddress], [o].[Headers], [o].[InboxConsumerId], [o].[InboxMessageId], [o].[InitiatorId], [o].[MessageId], [o].[MessageType], [o].[OutboxId], [o].[Properties], [o].[RequestId], [o].[ResponseAddress], [o].[SentTime], [o].[SourceAddress]
FROM [OutboxMessage] AS [o]
WHERE [o].[InboxMessageId] = @__MessageId_0 AND [o].[InboxConsumerId] = @__ConsumerId_1 AND [o].[SequenceNumber] > @__lastSequenceNumber_2
ORDER BY [o].[SequenceNumber]
2024-05-23 17:40:45.120 +01:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2024-05-23 17:40:45.128 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p7='?' (DbType = Int64), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int64), @p4='?' (DbType = Guid), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p8='?' (Size = 8) (DbType = Binary)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [InboxState] SET [Consumed] = @p0, [Delivered] = @p1, [ExpirationTime] = @p2, [LastSequenceNumber] = @p3, [LockId] = @p4, [ReceiveCount] = @p5, [Received] = @p6
OUTPUT INSERTED.[RowVersion]
WHERE [Id] = @p7 AND [RowVersion] = @p8;
2024-05-23 17:40:45.141 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[p0='?' (DbType = Guid), p1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[Consumed], [m].[ConsumerId], [m].[Delivered], [m].[ExpirationTime], [m].[LastSequenceNumber], [m].[LockId], [m].[MessageId], [m].[ReceiveCount], [m].[Received], [m].[RowVersion]
FROM (
    SELECT * FROM InboxState WITH (UPDLOCK, ROWLOCK) WHERE MessageId = @p0 AND ConsumerId = @p1
) AS [m]
2024-05-23 17:40:45.159 +01:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2024-05-23 17:40:45.167 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p7='?' (DbType = Int64), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int64), @p4='?' (DbType = Guid), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p8='?' (Size = 8) (DbType = Binary)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [InboxState] SET [Consumed] = @p0, [Delivered] = @p1, [ExpirationTime] = @p2, [LastSequenceNumber] = @p3, [LockId] = @p4, [ReceiveCount] = @p5, [Received] = @p6
OUTPUT INSERTED.[RowVersion]
WHERE [Id] = @p7 AND [RowVersion] = @p8;
2024-05-23 17:40:45.183 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_3='?' (DbType = Int32), @__MessageId_0='?' (DbType = Guid), @__ConsumerId_1='?' (DbType = Guid), @__lastSequenceNumber_2='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_3) [o].[SequenceNumber], [o].[Body], [o].[ContentType], [o].[ConversationId], [o].[CorrelationId], [o].[DestinationAddress], [o].[EnqueueTime], [o].[ExpirationTime], [o].[FaultAddress], [o].[Headers], [o].[InboxConsumerId], [o].[InboxMessageId], [o].[InitiatorId], [o].[MessageId], [o].[MessageType], [o].[OutboxId], [o].[Properties], [o].[RequestId], [o].[ResponseAddress], [o].[SentTime], [o].[SourceAddress]
FROM [OutboxMessage] AS [o]
WHERE [o].[InboxMessageId] = @__MessageId_0 AND [o].[InboxConsumerId] = @__ConsumerId_1 AND [o].[SequenceNumber] > @__lastSequenceNumber_2
ORDER BY [o].[SequenceNumber]
2024-05-23 17:40:45.199 +01:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2024-05-23 17:40:45.216 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@p7='?' (DbType = Int64), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int64), @p4='?' (DbType = Guid), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p8='?' (Size = 8) (DbType = Binary)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [InboxState] SET [Consumed] = @p0, [Delivered] = @p1, [ExpirationTime] = @p2, [LastSequenceNumber] = @p3, [LockId] = @p4, [ReceiveCount] = @p5, [Received] = @p6
OUTPUT INSERTED.[RowVersion]
WHERE [Id] = @p7 AND [RowVersion] = @p8;
2024-05-23 17:40:46.714 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[p0='?' (DbType = Guid), p1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[Consumed], [m].[ConsumerId], [m].[Delivered], [m].[ExpirationTime], [m].[LastSequenceNumber], [m].[LockId], [m].[MessageId], [m].[ReceiveCount], [m].[Received], [m].[RowVersion]
FROM (
    SELECT * FROM InboxState WITH (UPDLOCK, ROWLOCK) WHERE MessageId = @p0 AND ConsumerId = @p1
) AS [m]
2024-05-23 17:40:46.735 +01:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2024-05-23 17:40:46.759 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p7='?' (DbType = Int64), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int64), @p4='?' (DbType = Guid), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p8='?' (Size = 8) (DbType = Binary)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [InboxState] SET [Consumed] = @p0, [Delivered] = @p1, [ExpirationTime] = @p2, [LastSequenceNumber] = @p3, [LockId] = @p4, [ReceiveCount] = @p5, [Received] = @p6
OUTPUT INSERTED.[RowVersion]
WHERE [Id] = @p7 AND [RowVersion] = @p8;
2024-05-23 17:40:46.775 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__MessageId_0='?' (DbType = Guid), @__ConsumerId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[SequenceNumber], [o].[Body], [o].[ContentType], [o].[ConversationId], [o].[CorrelationId], [o].[DestinationAddress], [o].[EnqueueTime], [o].[ExpirationTime], [o].[FaultAddress], [o].[Headers], [o].[InboxConsumerId], [o].[InboxMessageId], [o].[InitiatorId], [o].[MessageId], [o].[MessageType], [o].[OutboxId], [o].[Properties], [o].[RequestId], [o].[ResponseAddress], [o].[SentTime], [o].[SourceAddress]
FROM [OutboxMessage] AS [o]
WHERE [o].[InboxMessageId] = @__MessageId_0 AND [o].[InboxConsumerId] = @__ConsumerId_1
2024-05-23 17:40:46.790 +01:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2024-05-23 17:40:46.799 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [OutboxMessage]
OUTPUT 1
WHERE [SequenceNumber] = @p0;
2024-05-23 17:40:54.552 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:40:54.570 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int64), @p1='?' (Size = 8) (DbType = Binary)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [InboxState]
OUTPUT 1
WHERE [Id] = @p0 AND [RowVersion] = @p1;
2024-05-23 17:40:54.587 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:41:04.614 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:41:14.634 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:41:24.659 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:41:24.679 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int64), @p1='?' (Size = 8) (DbType = Binary)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [InboxState]
OUTPUT 1
WHERE [Id] = @p0 AND [RowVersion] = @p1;
2024-05-23 17:41:24.695 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:41:34.724 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:41:44.763 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:42:11.293 +01:00 [WRN] No store type was specified for the decimal property 'OrderTotal' on entity type 'OrderStateInstance'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-05-23 17:42:12.755 +01:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-05-23 17:42:12.819 +01:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-05-23 17:42:12.831 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-05-23 17:42:12.848 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-05-23 17:42:12.932 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-05-23 17:42:12.991 +01:00 [INF] No migrations were applied. The database is already up to date.
2024-05-23 17:42:15.981 +01:00 [INF] Configured endpoint create-order-message-queue, Saga: SagaOrchestration.StateInstances.OrderStateInstance, State Machine: SagaOrchestration.StateMachines.OrderStateMachine
2024-05-23 17:42:16.257 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-23 17:42:16.269 +01:00 [INF] Hosting environment: Development
2024-05-23 17:42:16.282 +01:00 [INF] Content root path: C:\Users\porterc\source\repos\BookyWooksOnlineStore\SagaOrchestration
2024-05-23 17:42:16.654 +01:00 [INF] Bus started: "rabbitmq://localhost/"
2024-05-23 17:42:28.121 +01:00 [INF] Executed DbCommand (323ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:42:38.302 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:42:48.941 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:42:54.813 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[p0='?' (DbType = Guid), p1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[Consumed], [m].[ConsumerId], [m].[Delivered], [m].[ExpirationTime], [m].[LastSequenceNumber], [m].[LockId], [m].[MessageId], [m].[ReceiveCount], [m].[Received], [m].[RowVersion]
FROM (
    SELECT * FROM InboxState WITH (UPDLOCK, ROWLOCK) WHERE MessageId = @p0 AND ConsumerId = @p1
) AS [m]
2024-05-23 17:42:55.058 +01:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2024-05-23 17:42:55.156 +01:00 [INF] Executed DbCommand (27ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int64), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [InboxState] ([Consumed], [ConsumerId], [Delivered], [ExpirationTime], [LastSequenceNumber], [LockId], [MessageId], [ReceiveCount], [Received])
OUTPUT INSERTED.[Id], INSERTED.[RowVersion]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2024-05-23 17:42:55.246 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[p0='?' (DbType = Guid), p1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[Consumed], [m].[ConsumerId], [m].[Delivered], [m].[ExpirationTime], [m].[LastSequenceNumber], [m].[LockId], [m].[MessageId], [m].[ReceiveCount], [m].[Received], [m].[RowVersion]
FROM (
    SELECT * FROM InboxState WITH (UPDLOCK, ROWLOCK) WHERE MessageId = @p0 AND ConsumerId = @p1
) AS [m]
2024-05-23 17:42:55.266 +01:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2024-05-23 17:42:55.278 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@p7='?' (DbType = Int64), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int64), @p4='?' (DbType = Guid), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p8='?' (Size = 8) (DbType = Binary)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [InboxState] SET [Consumed] = @p0, [Delivered] = @p1, [ExpirationTime] = @p2, [LastSequenceNumber] = @p3, [LockId] = @p4, [ReceiveCount] = @p5, [Received] = @p6
OUTPUT INSERTED.[RowVersion]
WHERE [Id] = @p7 AND [RowVersion] = @p8;
2024-05-23 17:42:55.368 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[CorrelationId], [o].[CreatedDate], [o].[CurrentState], [o].[CustomerId], [o].[OrderId], [o].[OrderTotal]
FROM [OrderStateInstance] AS [o]
WHERE [o].[OrderId] = 'a33d2b3d-c64e-4f17-bd37-39a87884cb07'
2024-05-23 17:42:55.428 +01:00 [INF] CreateOrderMessage received in OrderStateMachine: CorrelationId: 94d3eab4-4a98-45e5-9014-b3c26e115a2f
CurrentState: Initial
OrderId: 00000000-0000-0000-0000-000000000000
CustomerId: 00000000-0000-0000-0000-000000000000
OrderTotal: 0
CreatedDate: 01/01/0001 00:00:00
------------------------ 
2024-05-23 17:42:55.586 +01:00 [INF] CheckBookStockCommand published in OrderStateMachine: CorrelationId: 94d3eab4-4a98-45e5-9014-b3c26e115a2f
CurrentState: StockCheck
OrderId: a33d2b3d-c64e-4f17-bd37-39a87884cb07
CustomerId: 4287c1cf-40be-44d1-8639-5781514f3f8a
OrderTotal: 42.48
CreatedDate: 23/05/2024 16:42:55
------------------------ 
2024-05-23 17:42:55.642 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = Guid), @p4='?' (DbType = Guid), @p5='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [OrderStateInstance] ([CorrelationId], [CreatedDate], [CurrentState], [CustomerId], [OrderId], [OrderTotal])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2024-05-23 17:42:55.684 +01:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2024-05-23 17:42:55.698 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@p7='?' (DbType = Int64), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int64), @p4='?' (DbType = Guid), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p8='?' (Size = 8) (DbType = Binary), @p9='?' (Size = 4000), @p10='?' (Size = 256), @p11='?' (DbType = Guid), @p12='?' (DbType = Guid), @p13='?' (Size = 256), @p14='?' (DbType = DateTime2), @p15='?' (DbType = DateTime2), @p16='?' (Size = 256), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Guid), @p20='?' (DbType = Guid), @p21='?' (DbType = Guid), @p22='?' (Size = 4000), @p23='?' (DbType = Guid), @p24='?' (Size = 4000), @p25='?' (DbType = Guid), @p26='?' (Size = 256), @p27='?' (DbType = DateTime2), @p28='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [InboxState] SET [Consumed] = @p0, [Delivered] = @p1, [ExpirationTime] = @p2, [LastSequenceNumber] = @p3, [LockId] = @p4, [ReceiveCount] = @p5, [Received] = @p6
OUTPUT INSERTED.[RowVersion]
WHERE [Id] = @p7 AND [RowVersion] = @p8;
INSERT INTO [OutboxMessage] ([Body], [ContentType], [ConversationId], [CorrelationId], [DestinationAddress], [EnqueueTime], [ExpirationTime], [FaultAddress], [Headers], [InboxConsumerId], [InboxMessageId], [InitiatorId], [MessageId], [MessageType], [OutboxId], [Properties], [RequestId], [ResponseAddress], [SentTime], [SourceAddress])
OUTPUT INSERTED.[SequenceNumber]
VALUES (@p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28);
2024-05-23 17:42:55.732 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[p0='?' (DbType = Guid), p1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[Consumed], [m].[ConsumerId], [m].[Delivered], [m].[ExpirationTime], [m].[LastSequenceNumber], [m].[LockId], [m].[MessageId], [m].[ReceiveCount], [m].[Received], [m].[RowVersion]
FROM (
    SELECT * FROM InboxState WITH (UPDLOCK, ROWLOCK) WHERE MessageId = @p0 AND ConsumerId = @p1
) AS [m]
2024-05-23 17:42:55.742 +01:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2024-05-23 17:42:55.751 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p7='?' (DbType = Int64), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int64), @p4='?' (DbType = Guid), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p8='?' (Size = 8) (DbType = Binary)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [InboxState] SET [Consumed] = @p0, [Delivered] = @p1, [ExpirationTime] = @p2, [LastSequenceNumber] = @p3, [LockId] = @p4, [ReceiveCount] = @p5, [Received] = @p6
OUTPUT INSERTED.[RowVersion]
WHERE [Id] = @p7 AND [RowVersion] = @p8;
2024-05-23 17:42:55.776 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_3='?' (DbType = Int32), @__MessageId_0='?' (DbType = Guid), @__ConsumerId_1='?' (DbType = Guid), @__lastSequenceNumber_2='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_3) [o].[SequenceNumber], [o].[Body], [o].[ContentType], [o].[ConversationId], [o].[CorrelationId], [o].[DestinationAddress], [o].[EnqueueTime], [o].[ExpirationTime], [o].[FaultAddress], [o].[Headers], [o].[InboxConsumerId], [o].[InboxMessageId], [o].[InitiatorId], [o].[MessageId], [o].[MessageType], [o].[OutboxId], [o].[Properties], [o].[RequestId], [o].[ResponseAddress], [o].[SentTime], [o].[SourceAddress]
FROM [OutboxMessage] AS [o]
WHERE [o].[InboxMessageId] = @__MessageId_0 AND [o].[InboxConsumerId] = @__ConsumerId_1 AND [o].[SequenceNumber] > @__lastSequenceNumber_2
ORDER BY [o].[SequenceNumber]
2024-05-23 17:42:55.895 +01:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2024-05-23 17:42:55.904 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@p7='?' (DbType = Int64), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int64), @p4='?' (DbType = Guid), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p8='?' (Size = 8) (DbType = Binary)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [InboxState] SET [Consumed] = @p0, [Delivered] = @p1, [ExpirationTime] = @p2, [LastSequenceNumber] = @p3, [LockId] = @p4, [ReceiveCount] = @p5, [Received] = @p6
OUTPUT INSERTED.[RowVersion]
WHERE [Id] = @p7 AND [RowVersion] = @p8;
2024-05-23 17:42:55.915 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[p0='?' (DbType = Guid), p1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[Consumed], [m].[ConsumerId], [m].[Delivered], [m].[ExpirationTime], [m].[LastSequenceNumber], [m].[LockId], [m].[MessageId], [m].[ReceiveCount], [m].[Received], [m].[RowVersion]
FROM (
    SELECT * FROM InboxState WITH (UPDLOCK, ROWLOCK) WHERE MessageId = @p0 AND ConsumerId = @p1
) AS [m]
2024-05-23 17:42:55.929 +01:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2024-05-23 17:42:55.938 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p7='?' (DbType = Int64), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int64), @p4='?' (DbType = Guid), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p8='?' (Size = 8) (DbType = Binary)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [InboxState] SET [Consumed] = @p0, [Delivered] = @p1, [ExpirationTime] = @p2, [LastSequenceNumber] = @p3, [LockId] = @p4, [ReceiveCount] = @p5, [Received] = @p6
OUTPUT INSERTED.[RowVersion]
WHERE [Id] = @p7 AND [RowVersion] = @p8;
2024-05-23 17:42:55.950 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_3='?' (DbType = Int32), @__MessageId_0='?' (DbType = Guid), @__ConsumerId_1='?' (DbType = Guid), @__lastSequenceNumber_2='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_3) [o].[SequenceNumber], [o].[Body], [o].[ContentType], [o].[ConversationId], [o].[CorrelationId], [o].[DestinationAddress], [o].[EnqueueTime], [o].[ExpirationTime], [o].[FaultAddress], [o].[Headers], [o].[InboxConsumerId], [o].[InboxMessageId], [o].[InitiatorId], [o].[MessageId], [o].[MessageType], [o].[OutboxId], [o].[Properties], [o].[RequestId], [o].[ResponseAddress], [o].[SentTime], [o].[SourceAddress]
FROM [OutboxMessage] AS [o]
WHERE [o].[InboxMessageId] = @__MessageId_0 AND [o].[InboxConsumerId] = @__ConsumerId_1 AND [o].[SequenceNumber] > @__lastSequenceNumber_2
ORDER BY [o].[SequenceNumber]
2024-05-23 17:42:55.962 +01:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2024-05-23 17:42:55.994 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@p7='?' (DbType = Int64), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int64), @p4='?' (DbType = Guid), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p8='?' (Size = 8) (DbType = Binary)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [InboxState] SET [Consumed] = @p0, [Delivered] = @p1, [ExpirationTime] = @p2, [LastSequenceNumber] = @p3, [LockId] = @p4, [ReceiveCount] = @p5, [Received] = @p6
OUTPUT INSERTED.[RowVersion]
WHERE [Id] = @p7 AND [RowVersion] = @p8;
2024-05-23 17:43:00.713 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:43:00.734 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[p0='?' (DbType = Guid), p1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[Consumed], [m].[ConsumerId], [m].[Delivered], [m].[ExpirationTime], [m].[LastSequenceNumber], [m].[LockId], [m].[MessageId], [m].[ReceiveCount], [m].[Received], [m].[RowVersion]
FROM (
    SELECT * FROM InboxState WITH (UPDLOCK, ROWLOCK) WHERE MessageId = @p0 AND ConsumerId = @p1
) AS [m]
2024-05-23 17:43:00.755 +01:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2024-05-23 17:43:00.762 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p7='?' (DbType = Int64), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int64), @p4='?' (DbType = Guid), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p8='?' (Size = 8) (DbType = Binary)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [InboxState] SET [Consumed] = @p0, [Delivered] = @p1, [ExpirationTime] = @p2, [LastSequenceNumber] = @p3, [LockId] = @p4, [ReceiveCount] = @p5, [Received] = @p6
OUTPUT INSERTED.[RowVersion]
WHERE [Id] = @p7 AND [RowVersion] = @p8;
2024-05-23 17:43:00.791 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__MessageId_0='?' (DbType = Guid), @__ConsumerId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[SequenceNumber], [o].[Body], [o].[ContentType], [o].[ConversationId], [o].[CorrelationId], [o].[DestinationAddress], [o].[EnqueueTime], [o].[ExpirationTime], [o].[FaultAddress], [o].[Headers], [o].[InboxConsumerId], [o].[InboxMessageId], [o].[InitiatorId], [o].[MessageId], [o].[MessageType], [o].[OutboxId], [o].[Properties], [o].[RequestId], [o].[ResponseAddress], [o].[SentTime], [o].[SourceAddress]
FROM [OutboxMessage] AS [o]
WHERE [o].[InboxMessageId] = @__MessageId_0 AND [o].[InboxConsumerId] = @__ConsumerId_1
2024-05-23 17:43:00.825 +01:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2024-05-23 17:43:00.832 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [OutboxMessage]
OUTPUT 1
WHERE [SequenceNumber] = @p0;
2024-05-23 17:43:03.223 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[p0='?' (DbType = Guid), p1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[Consumed], [m].[ConsumerId], [m].[Delivered], [m].[ExpirationTime], [m].[LastSequenceNumber], [m].[LockId], [m].[MessageId], [m].[ReceiveCount], [m].[Received], [m].[RowVersion]
FROM (
    SELECT * FROM InboxState WITH (UPDLOCK, ROWLOCK) WHERE MessageId = @p0 AND ConsumerId = @p1
) AS [m]
2024-05-23 17:43:03.244 +01:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2024-05-23 17:43:03.251 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int64), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [InboxState] ([Consumed], [ConsumerId], [Delivered], [ExpirationTime], [LastSequenceNumber], [LockId], [MessageId], [ReceiveCount], [Received])
OUTPUT INSERTED.[Id], INSERTED.[RowVersion]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2024-05-23 17:43:03.269 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[p0='?' (DbType = Guid), p1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[Consumed], [m].[ConsumerId], [m].[Delivered], [m].[ExpirationTime], [m].[LastSequenceNumber], [m].[LockId], [m].[MessageId], [m].[ReceiveCount], [m].[Received], [m].[RowVersion]
FROM (
    SELECT * FROM InboxState WITH (UPDLOCK, ROWLOCK) WHERE MessageId = @p0 AND ConsumerId = @p1
) AS [m]
2024-05-23 17:43:03.281 +01:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2024-05-23 17:43:03.294 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p7='?' (DbType = Int64), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int64), @p4='?' (DbType = Guid), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p8='?' (Size = 8) (DbType = Binary)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [InboxState] SET [Consumed] = @p0, [Delivered] = @p1, [ExpirationTime] = @p2, [LastSequenceNumber] = @p3, [LockId] = @p4, [ReceiveCount] = @p5, [Received] = @p6
OUTPUT INSERTED.[RowVersion]
WHERE [Id] = @p7 AND [RowVersion] = @p8;
2024-05-23 17:43:03.333 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [o].[CorrelationId], [o].[CreatedDate], [o].[CurrentState], [o].[CustomerId], [o].[OrderId], [o].[OrderTotal]
FROM [OrderStateInstance] AS [o]
WHERE [o].[CorrelationId] = @__id
2024-05-23 17:43:03.377 +01:00 [INF] StockReservedEvent received in OrderStateMachine: CorrelationId: 94d3eab4-4a98-45e5-9014-b3c26e115a2f
CurrentState: StockCheck
OrderId: a33d2b3d-c64e-4f17-bd37-39a87884cb07
CustomerId: 4287c1cf-40be-44d1-8639-5781514f3f8a
OrderTotal: 42.48
CreatedDate: 23/05/2024 16:42:55
------------------------ 
2024-05-23 17:43:03.407 +01:00 [INF] CompletePaymentMessage sent in OrderStateMachine: CorrelationId: 94d3eab4-4a98-45e5-9014-b3c26e115a2f
CurrentState: StockReserved
OrderId: a33d2b3d-c64e-4f17-bd37-39a87884cb07
CustomerId: 4287c1cf-40be-44d1-8639-5781514f3f8a
OrderTotal: 42.48
CreatedDate: 23/05/2024 16:42:55
------------------------ 
2024-05-23 17:43:03.421 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [OrderStateInstance] SET [CurrentState] = @p0
OUTPUT 1
WHERE [CorrelationId] = @p1;
2024-05-23 17:43:03.438 +01:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2024-05-23 17:43:03.448 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p7='?' (DbType = Int64), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int64), @p4='?' (DbType = Guid), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p8='?' (Size = 8) (DbType = Binary), @p9='?' (Size = 4000), @p10='?' (Size = 256), @p11='?' (DbType = Guid), @p12='?' (DbType = Guid), @p13='?' (Size = 256), @p14='?' (DbType = DateTime2), @p15='?' (DbType = DateTime2), @p16='?' (Size = 256), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Guid), @p20='?' (DbType = Guid), @p21='?' (DbType = Guid), @p22='?' (Size = 4000), @p23='?' (DbType = Guid), @p24='?' (Size = 4000), @p25='?' (DbType = Guid), @p26='?' (Size = 256), @p27='?' (DbType = DateTime2), @p28='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [InboxState] SET [Consumed] = @p0, [Delivered] = @p1, [ExpirationTime] = @p2, [LastSequenceNumber] = @p3, [LockId] = @p4, [ReceiveCount] = @p5, [Received] = @p6
OUTPUT INSERTED.[RowVersion]
WHERE [Id] = @p7 AND [RowVersion] = @p8;
INSERT INTO [OutboxMessage] ([Body], [ContentType], [ConversationId], [CorrelationId], [DestinationAddress], [EnqueueTime], [ExpirationTime], [FaultAddress], [Headers], [InboxConsumerId], [InboxMessageId], [InitiatorId], [MessageId], [MessageType], [OutboxId], [Properties], [RequestId], [ResponseAddress], [SentTime], [SourceAddress])
OUTPUT INSERTED.[SequenceNumber]
VALUES (@p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28);
2024-05-23 17:43:03.495 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[p0='?' (DbType = Guid), p1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[Consumed], [m].[ConsumerId], [m].[Delivered], [m].[ExpirationTime], [m].[LastSequenceNumber], [m].[LockId], [m].[MessageId], [m].[ReceiveCount], [m].[Received], [m].[RowVersion]
FROM (
    SELECT * FROM InboxState WITH (UPDLOCK, ROWLOCK) WHERE MessageId = @p0 AND ConsumerId = @p1
) AS [m]
2024-05-23 17:43:03.510 +01:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2024-05-23 17:43:03.518 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p7='?' (DbType = Int64), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int64), @p4='?' (DbType = Guid), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p8='?' (Size = 8) (DbType = Binary)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [InboxState] SET [Consumed] = @p0, [Delivered] = @p1, [ExpirationTime] = @p2, [LastSequenceNumber] = @p3, [LockId] = @p4, [ReceiveCount] = @p5, [Received] = @p6
OUTPUT INSERTED.[RowVersion]
WHERE [Id] = @p7 AND [RowVersion] = @p8;
2024-05-23 17:43:03.534 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_3='?' (DbType = Int32), @__MessageId_0='?' (DbType = Guid), @__ConsumerId_1='?' (DbType = Guid), @__lastSequenceNumber_2='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_3) [o].[SequenceNumber], [o].[Body], [o].[ContentType], [o].[ConversationId], [o].[CorrelationId], [o].[DestinationAddress], [o].[EnqueueTime], [o].[ExpirationTime], [o].[FaultAddress], [o].[Headers], [o].[InboxConsumerId], [o].[InboxMessageId], [o].[InitiatorId], [o].[MessageId], [o].[MessageType], [o].[OutboxId], [o].[Properties], [o].[RequestId], [o].[ResponseAddress], [o].[SentTime], [o].[SourceAddress]
FROM [OutboxMessage] AS [o]
WHERE [o].[InboxMessageId] = @__MessageId_0 AND [o].[InboxConsumerId] = @__ConsumerId_1 AND [o].[SequenceNumber] > @__lastSequenceNumber_2
ORDER BY [o].[SequenceNumber]
2024-05-23 17:43:03.594 +01:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2024-05-23 17:43:03.609 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p7='?' (DbType = Int64), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int64), @p4='?' (DbType = Guid), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p8='?' (Size = 8) (DbType = Binary)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [InboxState] SET [Consumed] = @p0, [Delivered] = @p1, [ExpirationTime] = @p2, [LastSequenceNumber] = @p3, [LockId] = @p4, [ReceiveCount] = @p5, [Received] = @p6
OUTPUT INSERTED.[RowVersion]
WHERE [Id] = @p7 AND [RowVersion] = @p8;
2024-05-23 17:43:03.623 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[p0='?' (DbType = Guid), p1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[Consumed], [m].[ConsumerId], [m].[Delivered], [m].[ExpirationTime], [m].[LastSequenceNumber], [m].[LockId], [m].[MessageId], [m].[ReceiveCount], [m].[Received], [m].[RowVersion]
FROM (
    SELECT * FROM InboxState WITH (UPDLOCK, ROWLOCK) WHERE MessageId = @p0 AND ConsumerId = @p1
) AS [m]
2024-05-23 17:43:03.646 +01:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2024-05-23 17:43:03.657 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@p7='?' (DbType = Int64), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int64), @p4='?' (DbType = Guid), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p8='?' (Size = 8) (DbType = Binary)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [InboxState] SET [Consumed] = @p0, [Delivered] = @p1, [ExpirationTime] = @p2, [LastSequenceNumber] = @p3, [LockId] = @p4, [ReceiveCount] = @p5, [Received] = @p6
OUTPUT INSERTED.[RowVersion]
WHERE [Id] = @p7 AND [RowVersion] = @p8;
2024-05-23 17:43:03.671 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_3='?' (DbType = Int32), @__MessageId_0='?' (DbType = Guid), @__ConsumerId_1='?' (DbType = Guid), @__lastSequenceNumber_2='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_3) [o].[SequenceNumber], [o].[Body], [o].[ContentType], [o].[ConversationId], [o].[CorrelationId], [o].[DestinationAddress], [o].[EnqueueTime], [o].[ExpirationTime], [o].[FaultAddress], [o].[Headers], [o].[InboxConsumerId], [o].[InboxMessageId], [o].[InitiatorId], [o].[MessageId], [o].[MessageType], [o].[OutboxId], [o].[Properties], [o].[RequestId], [o].[ResponseAddress], [o].[SentTime], [o].[SourceAddress]
FROM [OutboxMessage] AS [o]
WHERE [o].[InboxMessageId] = @__MessageId_0 AND [o].[InboxConsumerId] = @__ConsumerId_1 AND [o].[SequenceNumber] > @__lastSequenceNumber_2
ORDER BY [o].[SequenceNumber]
2024-05-23 17:43:03.686 +01:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2024-05-23 17:43:03.699 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@p7='?' (DbType = Int64), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int64), @p4='?' (DbType = Guid), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p8='?' (Size = 8) (DbType = Binary)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [InboxState] SET [Consumed] = @p0, [Delivered] = @p1, [ExpirationTime] = @p2, [LastSequenceNumber] = @p3, [LockId] = @p4, [ReceiveCount] = @p5, [Received] = @p6
OUTPUT INSERTED.[RowVersion]
WHERE [Id] = @p7 AND [RowVersion] = @p8;
2024-05-23 17:43:04.721 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[p0='?' (DbType = Guid), p1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[Consumed], [m].[ConsumerId], [m].[Delivered], [m].[ExpirationTime], [m].[LastSequenceNumber], [m].[LockId], [m].[MessageId], [m].[ReceiveCount], [m].[Received], [m].[RowVersion]
FROM (
    SELECT * FROM InboxState WITH (UPDLOCK, ROWLOCK) WHERE MessageId = @p0 AND ConsumerId = @p1
) AS [m]
2024-05-23 17:43:04.738 +01:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2024-05-23 17:43:04.746 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p7='?' (DbType = Int64), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int64), @p4='?' (DbType = Guid), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p8='?' (Size = 8) (DbType = Binary)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [InboxState] SET [Consumed] = @p0, [Delivered] = @p1, [ExpirationTime] = @p2, [LastSequenceNumber] = @p3, [LockId] = @p4, [ReceiveCount] = @p5, [Received] = @p6
OUTPUT INSERTED.[RowVersion]
WHERE [Id] = @p7 AND [RowVersion] = @p8;
2024-05-23 17:43:04.761 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__MessageId_0='?' (DbType = Guid), @__ConsumerId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[SequenceNumber], [o].[Body], [o].[ContentType], [o].[ConversationId], [o].[CorrelationId], [o].[DestinationAddress], [o].[EnqueueTime], [o].[ExpirationTime], [o].[FaultAddress], [o].[Headers], [o].[InboxConsumerId], [o].[InboxMessageId], [o].[InitiatorId], [o].[MessageId], [o].[MessageType], [o].[OutboxId], [o].[Properties], [o].[RequestId], [o].[ResponseAddress], [o].[SentTime], [o].[SourceAddress]
FROM [OutboxMessage] AS [o]
WHERE [o].[InboxMessageId] = @__MessageId_0 AND [o].[InboxConsumerId] = @__ConsumerId_1
2024-05-23 17:43:04.774 +01:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2024-05-23 17:43:04.780 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [OutboxMessage]
OUTPUT 1
WHERE [SequenceNumber] = @p0;
2024-05-23 17:43:10.758 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:43:24.296 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:43:49.627 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:43:49.687 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Int64), @p1='?' (Size = 8) (DbType = Binary), @p2='?' (DbType = Int64), @p3='?' (Size = 8) (DbType = Binary)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [InboxState]
OUTPUT 1
WHERE [Id] = @p0 AND [RowVersion] = @p1;
DELETE FROM [InboxState]
OUTPUT 1
WHERE [Id] = @p2 AND [RowVersion] = @p3;
2024-05-23 17:43:49.704 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:43:53.830 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[p0='?' (DbType = Guid), p1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[Consumed], [m].[ConsumerId], [m].[Delivered], [m].[ExpirationTime], [m].[LastSequenceNumber], [m].[LockId], [m].[MessageId], [m].[ReceiveCount], [m].[Received], [m].[RowVersion]
FROM (
    SELECT * FROM InboxState WITH (UPDLOCK, ROWLOCK) WHERE MessageId = @p0 AND ConsumerId = @p1
) AS [m]
2024-05-23 17:43:53.847 +01:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2024-05-23 17:43:53.858 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int64), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [InboxState] ([Consumed], [ConsumerId], [Delivered], [ExpirationTime], [LastSequenceNumber], [LockId], [MessageId], [ReceiveCount], [Received])
OUTPUT INSERTED.[Id], INSERTED.[RowVersion]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2024-05-23 17:43:53.869 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[p0='?' (DbType = Guid), p1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[Consumed], [m].[ConsumerId], [m].[Delivered], [m].[ExpirationTime], [m].[LastSequenceNumber], [m].[LockId], [m].[MessageId], [m].[ReceiveCount], [m].[Received], [m].[RowVersion]
FROM (
    SELECT * FROM InboxState WITH (UPDLOCK, ROWLOCK) WHERE MessageId = @p0 AND ConsumerId = @p1
) AS [m]
2024-05-23 17:43:53.878 +01:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2024-05-23 17:43:53.892 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@p7='?' (DbType = Int64), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int64), @p4='?' (DbType = Guid), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p8='?' (Size = 8) (DbType = Binary)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [InboxState] SET [Consumed] = @p0, [Delivered] = @p1, [ExpirationTime] = @p2, [LastSequenceNumber] = @p3, [LockId] = @p4, [ReceiveCount] = @p5, [Received] = @p6
OUTPUT INSERTED.[RowVersion]
WHERE [Id] = @p7 AND [RowVersion] = @p8;
2024-05-23 17:43:53.920 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[CorrelationId], [o].[CreatedDate], [o].[CurrentState], [o].[CustomerId], [o].[OrderId], [o].[OrderTotal]
FROM [OrderStateInstance] AS [o]
WHERE [o].[OrderId] = 'bddcf10f-c36d-4cb0-83d7-cdf1f8649155'
2024-05-23 17:43:53.930 +01:00 [INF] CreateOrderMessage received in OrderStateMachine: CorrelationId: f7600acd-19b2-46a3-9c7b-6380876dfe95
CurrentState: Initial
OrderId: 00000000-0000-0000-0000-000000000000
CustomerId: 00000000-0000-0000-0000-000000000000
OrderTotal: 0
CreatedDate: 01/01/0001 00:00:00
------------------------ 
2024-05-23 17:43:53.939 +01:00 [INF] CheckBookStockCommand published in OrderStateMachine: CorrelationId: f7600acd-19b2-46a3-9c7b-6380876dfe95
CurrentState: StockCheck
OrderId: bddcf10f-c36d-4cb0-83d7-cdf1f8649155
CustomerId: 4287c1cf-40be-44d1-8639-5781514f3f8a
OrderTotal: 42.48
CreatedDate: 23/05/2024 16:43:53
------------------------ 
2024-05-23 17:43:53.960 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = Guid), @p4='?' (DbType = Guid), @p5='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [OrderStateInstance] ([CorrelationId], [CreatedDate], [CurrentState], [CustomerId], [OrderId], [OrderTotal])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2024-05-23 17:43:53.996 +01:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2024-05-23 17:43:54.021 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@p7='?' (DbType = Int64), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int64), @p4='?' (DbType = Guid), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p8='?' (Size = 8) (DbType = Binary), @p9='?' (Size = 4000), @p10='?' (Size = 256), @p11='?' (DbType = Guid), @p12='?' (DbType = Guid), @p13='?' (Size = 256), @p14='?' (DbType = DateTime2), @p15='?' (DbType = DateTime2), @p16='?' (Size = 256), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Guid), @p20='?' (DbType = Guid), @p21='?' (DbType = Guid), @p22='?' (Size = 4000), @p23='?' (DbType = Guid), @p24='?' (Size = 4000), @p25='?' (DbType = Guid), @p26='?' (Size = 256), @p27='?' (DbType = DateTime2), @p28='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [InboxState] SET [Consumed] = @p0, [Delivered] = @p1, [ExpirationTime] = @p2, [LastSequenceNumber] = @p3, [LockId] = @p4, [ReceiveCount] = @p5, [Received] = @p6
OUTPUT INSERTED.[RowVersion]
WHERE [Id] = @p7 AND [RowVersion] = @p8;
INSERT INTO [OutboxMessage] ([Body], [ContentType], [ConversationId], [CorrelationId], [DestinationAddress], [EnqueueTime], [ExpirationTime], [FaultAddress], [Headers], [InboxConsumerId], [InboxMessageId], [InitiatorId], [MessageId], [MessageType], [OutboxId], [Properties], [RequestId], [ResponseAddress], [SentTime], [SourceAddress])
OUTPUT INSERTED.[SequenceNumber]
VALUES (@p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28);
2024-05-23 17:43:54.054 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[p0='?' (DbType = Guid), p1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[Consumed], [m].[ConsumerId], [m].[Delivered], [m].[ExpirationTime], [m].[LastSequenceNumber], [m].[LockId], [m].[MessageId], [m].[ReceiveCount], [m].[Received], [m].[RowVersion]
FROM (
    SELECT * FROM InboxState WITH (UPDLOCK, ROWLOCK) WHERE MessageId = @p0 AND ConsumerId = @p1
) AS [m]
2024-05-23 17:43:54.068 +01:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2024-05-23 17:43:54.081 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@p7='?' (DbType = Int64), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int64), @p4='?' (DbType = Guid), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p8='?' (Size = 8) (DbType = Binary)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [InboxState] SET [Consumed] = @p0, [Delivered] = @p1, [ExpirationTime] = @p2, [LastSequenceNumber] = @p3, [LockId] = @p4, [ReceiveCount] = @p5, [Received] = @p6
OUTPUT INSERTED.[RowVersion]
WHERE [Id] = @p7 AND [RowVersion] = @p8;
2024-05-23 17:43:54.100 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_3='?' (DbType = Int32), @__MessageId_0='?' (DbType = Guid), @__ConsumerId_1='?' (DbType = Guid), @__lastSequenceNumber_2='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_3) [o].[SequenceNumber], [o].[Body], [o].[ContentType], [o].[ConversationId], [o].[CorrelationId], [o].[DestinationAddress], [o].[EnqueueTime], [o].[ExpirationTime], [o].[FaultAddress], [o].[Headers], [o].[InboxConsumerId], [o].[InboxMessageId], [o].[InitiatorId], [o].[MessageId], [o].[MessageType], [o].[OutboxId], [o].[Properties], [o].[RequestId], [o].[ResponseAddress], [o].[SentTime], [o].[SourceAddress]
FROM [OutboxMessage] AS [o]
WHERE [o].[InboxMessageId] = @__MessageId_0 AND [o].[InboxConsumerId] = @__ConsumerId_1 AND [o].[SequenceNumber] > @__lastSequenceNumber_2
ORDER BY [o].[SequenceNumber]
2024-05-23 17:43:54.118 +01:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2024-05-23 17:43:54.128 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@p7='?' (DbType = Int64), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int64), @p4='?' (DbType = Guid), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p8='?' (Size = 8) (DbType = Binary)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [InboxState] SET [Consumed] = @p0, [Delivered] = @p1, [ExpirationTime] = @p2, [LastSequenceNumber] = @p3, [LockId] = @p4, [ReceiveCount] = @p5, [Received] = @p6
OUTPUT INSERTED.[RowVersion]
WHERE [Id] = @p7 AND [RowVersion] = @p8;
2024-05-23 17:43:57.163 +01:00 [INF] Executed DbCommand (896ms) [Parameters=[p0='?' (DbType = Guid), p1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[Consumed], [m].[ConsumerId], [m].[Delivered], [m].[ExpirationTime], [m].[LastSequenceNumber], [m].[LockId], [m].[MessageId], [m].[ReceiveCount], [m].[Received], [m].[RowVersion]
FROM (
    SELECT * FROM InboxState WITH (UPDLOCK, ROWLOCK) WHERE MessageId = @p0 AND ConsumerId = @p1
) AS [m]
2024-05-23 17:43:57.185 +01:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2024-05-23 17:43:57.194 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[p0='?' (DbType = Guid), p1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[Consumed], [m].[ConsumerId], [m].[Delivered], [m].[ExpirationTime], [m].[LastSequenceNumber], [m].[LockId], [m].[MessageId], [m].[ReceiveCount], [m].[Received], [m].[RowVersion]
FROM (
    SELECT * FROM InboxState WITH (UPDLOCK, ROWLOCK) WHERE MessageId = @p0 AND ConsumerId = @p1
) AS [m]
2024-05-23 17:43:57.197 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@p7='?' (DbType = Int64), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int64), @p4='?' (DbType = Guid), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p8='?' (Size = 8) (DbType = Binary)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [InboxState] SET [Consumed] = @p0, [Delivered] = @p1, [ExpirationTime] = @p2, [LastSequenceNumber] = @p3, [LockId] = @p4, [ReceiveCount] = @p5, [Received] = @p6
OUTPUT INSERTED.[RowVersion]
WHERE [Id] = @p7 AND [RowVersion] = @p8;
2024-05-23 17:43:57.216 +01:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2024-05-23 17:43:57.224 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_3='?' (DbType = Int32), @__MessageId_0='?' (DbType = Guid), @__ConsumerId_1='?' (DbType = Guid), @__lastSequenceNumber_2='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_3) [o].[SequenceNumber], [o].[Body], [o].[ContentType], [o].[ConversationId], [o].[CorrelationId], [o].[DestinationAddress], [o].[EnqueueTime], [o].[ExpirationTime], [o].[FaultAddress], [o].[Headers], [o].[InboxConsumerId], [o].[InboxMessageId], [o].[InitiatorId], [o].[MessageId], [o].[MessageType], [o].[OutboxId], [o].[Properties], [o].[RequestId], [o].[ResponseAddress], [o].[SentTime], [o].[SourceAddress]
FROM [OutboxMessage] AS [o]
WHERE [o].[InboxMessageId] = @__MessageId_0 AND [o].[InboxConsumerId] = @__ConsumerId_1 AND [o].[SequenceNumber] > @__lastSequenceNumber_2
ORDER BY [o].[SequenceNumber]
2024-05-23 17:43:57.229 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int64), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [InboxState] ([Consumed], [ConsumerId], [Delivered], [ExpirationTime], [LastSequenceNumber], [LockId], [MessageId], [ReceiveCount], [Received])
OUTPUT INSERTED.[Id], INSERTED.[RowVersion]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2024-05-23 17:43:57.244 +01:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2024-05-23 17:43:57.250 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[p0='?' (DbType = Guid), p1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[Consumed], [m].[ConsumerId], [m].[Delivered], [m].[ExpirationTime], [m].[LastSequenceNumber], [m].[LockId], [m].[MessageId], [m].[ReceiveCount], [m].[Received], [m].[RowVersion]
FROM (
    SELECT * FROM InboxState WITH (UPDLOCK, ROWLOCK) WHERE MessageId = @p0 AND ConsumerId = @p1
) AS [m]
2024-05-23 17:43:57.253 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p7='?' (DbType = Int64), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int64), @p4='?' (DbType = Guid), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p8='?' (Size = 8) (DbType = Binary)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [InboxState] SET [Consumed] = @p0, [Delivered] = @p1, [ExpirationTime] = @p2, [LastSequenceNumber] = @p3, [LockId] = @p4, [ReceiveCount] = @p5, [Received] = @p6
OUTPUT INSERTED.[RowVersion]
WHERE [Id] = @p7 AND [RowVersion] = @p8;
2024-05-23 17:43:57.266 +01:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2024-05-23 17:43:57.274 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[p0='?' (DbType = Guid), p1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[Consumed], [m].[ConsumerId], [m].[Delivered], [m].[ExpirationTime], [m].[LastSequenceNumber], [m].[LockId], [m].[MessageId], [m].[ReceiveCount], [m].[Received], [m].[RowVersion]
FROM (
    SELECT * FROM InboxState WITH (UPDLOCK, ROWLOCK) WHERE MessageId = @p0 AND ConsumerId = @p1
) AS [m]
2024-05-23 17:43:57.278 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p7='?' (DbType = Int64), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int64), @p4='?' (DbType = Guid), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p8='?' (Size = 8) (DbType = Binary)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [InboxState] SET [Consumed] = @p0, [Delivered] = @p1, [ExpirationTime] = @p2, [LastSequenceNumber] = @p3, [LockId] = @p4, [ReceiveCount] = @p5, [Received] = @p6
OUTPUT INSERTED.[RowVersion]
WHERE [Id] = @p7 AND [RowVersion] = @p8;
2024-05-23 17:43:57.290 +01:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2024-05-23 17:43:57.302 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p7='?' (DbType = Int64), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int64), @p4='?' (DbType = Guid), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p8='?' (Size = 8) (DbType = Binary)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [InboxState] SET [Consumed] = @p0, [Delivered] = @p1, [ExpirationTime] = @p2, [LastSequenceNumber] = @p3, [LockId] = @p4, [ReceiveCount] = @p5, [Received] = @p6
OUTPUT INSERTED.[RowVersion]
WHERE [Id] = @p7 AND [RowVersion] = @p8;
2024-05-23 17:43:57.310 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [o].[CorrelationId], [o].[CreatedDate], [o].[CurrentState], [o].[CustomerId], [o].[OrderId], [o].[OrderTotal]
FROM [OrderStateInstance] AS [o]
WHERE [o].[CorrelationId] = @__id
2024-05-23 17:43:57.324 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__MessageId_0='?' (DbType = Guid), @__ConsumerId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[SequenceNumber], [o].[Body], [o].[ContentType], [o].[ConversationId], [o].[CorrelationId], [o].[DestinationAddress], [o].[EnqueueTime], [o].[ExpirationTime], [o].[FaultAddress], [o].[Headers], [o].[InboxConsumerId], [o].[InboxMessageId], [o].[InitiatorId], [o].[MessageId], [o].[MessageType], [o].[OutboxId], [o].[Properties], [o].[RequestId], [o].[ResponseAddress], [o].[SentTime], [o].[SourceAddress]
FROM [OutboxMessage] AS [o]
WHERE [o].[InboxMessageId] = @__MessageId_0 AND [o].[InboxConsumerId] = @__ConsumerId_1
2024-05-23 17:43:57.340 +01:00 [INF] StockReservedEvent received in OrderStateMachine: CorrelationId: f7600acd-19b2-46a3-9c7b-6380876dfe95
CurrentState: StockCheck
OrderId: bddcf10f-c36d-4cb0-83d7-cdf1f8649155
CustomerId: 4287c1cf-40be-44d1-8639-5781514f3f8a
OrderTotal: 42.48
CreatedDate: 23/05/2024 16:43:53
------------------------ 
2024-05-23 17:43:57.348 +01:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2024-05-23 17:43:57.355 +01:00 [INF] CompletePaymentMessage sent in OrderStateMachine: CorrelationId: f7600acd-19b2-46a3-9c7b-6380876dfe95
CurrentState: StockReserved
OrderId: bddcf10f-c36d-4cb0-83d7-cdf1f8649155
CustomerId: 4287c1cf-40be-44d1-8639-5781514f3f8a
OrderTotal: 42.48
CreatedDate: 23/05/2024 16:43:53
------------------------ 
2024-05-23 17:43:57.361 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [OutboxMessage]
OUTPUT 1
WHERE [SequenceNumber] = @p0;
2024-05-23 17:43:57.369 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [OrderStateInstance] SET [CurrentState] = @p0
OUTPUT 1
WHERE [CorrelationId] = @p1;
2024-05-23 17:43:57.383 +01:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2024-05-23 17:43:57.396 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@p7='?' (DbType = Int64), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int64), @p4='?' (DbType = Guid), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p8='?' (Size = 8) (DbType = Binary), @p9='?' (Size = 4000), @p10='?' (Size = 256), @p11='?' (DbType = Guid), @p12='?' (DbType = Guid), @p13='?' (Size = 256), @p14='?' (DbType = DateTime2), @p15='?' (DbType = DateTime2), @p16='?' (Size = 256), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Guid), @p20='?' (DbType = Guid), @p21='?' (DbType = Guid), @p22='?' (Size = 4000), @p23='?' (DbType = Guid), @p24='?' (Size = 4000), @p25='?' (DbType = Guid), @p26='?' (Size = 256), @p27='?' (DbType = DateTime2), @p28='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [InboxState] SET [Consumed] = @p0, [Delivered] = @p1, [ExpirationTime] = @p2, [LastSequenceNumber] = @p3, [LockId] = @p4, [ReceiveCount] = @p5, [Received] = @p6
OUTPUT INSERTED.[RowVersion]
WHERE [Id] = @p7 AND [RowVersion] = @p8;
INSERT INTO [OutboxMessage] ([Body], [ContentType], [ConversationId], [CorrelationId], [DestinationAddress], [EnqueueTime], [ExpirationTime], [FaultAddress], [Headers], [InboxConsumerId], [InboxMessageId], [InitiatorId], [MessageId], [MessageType], [OutboxId], [Properties], [RequestId], [ResponseAddress], [SentTime], [SourceAddress])
OUTPUT INSERTED.[SequenceNumber]
VALUES (@p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28);
2024-05-23 17:43:57.413 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[p0='?' (DbType = Guid), p1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[Consumed], [m].[ConsumerId], [m].[Delivered], [m].[ExpirationTime], [m].[LastSequenceNumber], [m].[LockId], [m].[MessageId], [m].[ReceiveCount], [m].[Received], [m].[RowVersion]
FROM (
    SELECT * FROM InboxState WITH (UPDLOCK, ROWLOCK) WHERE MessageId = @p0 AND ConsumerId = @p1
) AS [m]
2024-05-23 17:43:57.422 +01:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2024-05-23 17:43:57.430 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p7='?' (DbType = Int64), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int64), @p4='?' (DbType = Guid), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p8='?' (Size = 8) (DbType = Binary)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [InboxState] SET [Consumed] = @p0, [Delivered] = @p1, [ExpirationTime] = @p2, [LastSequenceNumber] = @p3, [LockId] = @p4, [ReceiveCount] = @p5, [Received] = @p6
OUTPUT INSERTED.[RowVersion]
WHERE [Id] = @p7 AND [RowVersion] = @p8;
2024-05-23 17:43:57.440 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_3='?' (DbType = Int32), @__MessageId_0='?' (DbType = Guid), @__ConsumerId_1='?' (DbType = Guid), @__lastSequenceNumber_2='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_3) [o].[SequenceNumber], [o].[Body], [o].[ContentType], [o].[ConversationId], [o].[CorrelationId], [o].[DestinationAddress], [o].[EnqueueTime], [o].[ExpirationTime], [o].[FaultAddress], [o].[Headers], [o].[InboxConsumerId], [o].[InboxMessageId], [o].[InitiatorId], [o].[MessageId], [o].[MessageType], [o].[OutboxId], [o].[Properties], [o].[RequestId], [o].[ResponseAddress], [o].[SentTime], [o].[SourceAddress]
FROM [OutboxMessage] AS [o]
WHERE [o].[InboxMessageId] = @__MessageId_0 AND [o].[InboxConsumerId] = @__ConsumerId_1 AND [o].[SequenceNumber] > @__lastSequenceNumber_2
ORDER BY [o].[SequenceNumber]
2024-05-23 17:43:57.464 +01:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2024-05-23 17:43:58.339 +01:00 [INF] Executed DbCommand (864ms) [Parameters=[@p7='?' (DbType = Int64), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int64), @p4='?' (DbType = Guid), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p8='?' (Size = 8) (DbType = Binary)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [InboxState] SET [Consumed] = @p0, [Delivered] = @p1, [ExpirationTime] = @p2, [LastSequenceNumber] = @p3, [LockId] = @p4, [ReceiveCount] = @p5, [Received] = @p6
OUTPUT INSERTED.[RowVersion]
WHERE [Id] = @p7 AND [RowVersion] = @p8;
2024-05-23 17:43:58.372 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[p0='?' (DbType = Guid), p1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[Consumed], [m].[ConsumerId], [m].[Delivered], [m].[ExpirationTime], [m].[LastSequenceNumber], [m].[LockId], [m].[MessageId], [m].[ReceiveCount], [m].[Received], [m].[RowVersion]
FROM (
    SELECT * FROM InboxState WITH (UPDLOCK, ROWLOCK) WHERE MessageId = @p0 AND ConsumerId = @p1
) AS [m]
2024-05-23 17:43:58.382 +01:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2024-05-23 17:43:58.387 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p7='?' (DbType = Int64), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int64), @p4='?' (DbType = Guid), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p8='?' (Size = 8) (DbType = Binary)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [InboxState] SET [Consumed] = @p0, [Delivered] = @p1, [ExpirationTime] = @p2, [LastSequenceNumber] = @p3, [LockId] = @p4, [ReceiveCount] = @p5, [Received] = @p6
OUTPUT INSERTED.[RowVersion]
WHERE [Id] = @p7 AND [RowVersion] = @p8;
2024-05-23 17:43:58.397 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_3='?' (DbType = Int32), @__MessageId_0='?' (DbType = Guid), @__ConsumerId_1='?' (DbType = Guid), @__lastSequenceNumber_2='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_3) [o].[SequenceNumber], [o].[Body], [o].[ContentType], [o].[ConversationId], [o].[CorrelationId], [o].[DestinationAddress], [o].[EnqueueTime], [o].[ExpirationTime], [o].[FaultAddress], [o].[Headers], [o].[InboxConsumerId], [o].[InboxMessageId], [o].[InitiatorId], [o].[MessageId], [o].[MessageType], [o].[OutboxId], [o].[Properties], [o].[RequestId], [o].[ResponseAddress], [o].[SentTime], [o].[SourceAddress]
FROM [OutboxMessage] AS [o]
WHERE [o].[InboxMessageId] = @__MessageId_0 AND [o].[InboxConsumerId] = @__ConsumerId_1 AND [o].[SequenceNumber] > @__lastSequenceNumber_2
ORDER BY [o].[SequenceNumber]
2024-05-23 17:43:58.410 +01:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2024-05-23 17:43:58.416 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p7='?' (DbType = Int64), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int64), @p4='?' (DbType = Guid), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p8='?' (Size = 8) (DbType = Binary)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [InboxState] SET [Consumed] = @p0, [Delivered] = @p1, [ExpirationTime] = @p2, [LastSequenceNumber] = @p3, [LockId] = @p4, [ReceiveCount] = @p5, [Received] = @p6
OUTPUT INSERTED.[RowVersion]
WHERE [Id] = @p7 AND [RowVersion] = @p8;
2024-05-23 17:43:58.429 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[p0='?' (DbType = Guid), p1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[Consumed], [m].[ConsumerId], [m].[Delivered], [m].[ExpirationTime], [m].[LastSequenceNumber], [m].[LockId], [m].[MessageId], [m].[ReceiveCount], [m].[Received], [m].[RowVersion]
FROM (
    SELECT * FROM InboxState WITH (UPDLOCK, ROWLOCK) WHERE MessageId = @p0 AND ConsumerId = @p1
) AS [m]
2024-05-23 17:43:58.436 +01:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2024-05-23 17:43:58.446 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p7='?' (DbType = Int64), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int64), @p4='?' (DbType = Guid), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p8='?' (Size = 8) (DbType = Binary)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [InboxState] SET [Consumed] = @p0, [Delivered] = @p1, [ExpirationTime] = @p2, [LastSequenceNumber] = @p3, [LockId] = @p4, [ReceiveCount] = @p5, [Received] = @p6
OUTPUT INSERTED.[RowVersion]
WHERE [Id] = @p7 AND [RowVersion] = @p8;
2024-05-23 17:43:58.458 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__MessageId_0='?' (DbType = Guid), @__ConsumerId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[SequenceNumber], [o].[Body], [o].[ContentType], [o].[ConversationId], [o].[CorrelationId], [o].[DestinationAddress], [o].[EnqueueTime], [o].[ExpirationTime], [o].[FaultAddress], [o].[Headers], [o].[InboxConsumerId], [o].[InboxMessageId], [o].[InitiatorId], [o].[MessageId], [o].[MessageType], [o].[OutboxId], [o].[Properties], [o].[RequestId], [o].[ResponseAddress], [o].[SentTime], [o].[SourceAddress]
FROM [OutboxMessage] AS [o]
WHERE [o].[InboxMessageId] = @__MessageId_0 AND [o].[InboxConsumerId] = @__ConsumerId_1
2024-05-23 17:43:58.466 +01:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2024-05-23 17:43:58.475 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [OutboxMessage]
OUTPUT 1
WHERE [SequenceNumber] = @p0;
2024-05-23 17:43:59.732 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:44:09.752 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:44:19.773 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:44:29.798 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:44:29.820 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int64), @p1='?' (Size = 8) (DbType = Binary), @p2='?' (DbType = Int64), @p3='?' (Size = 8) (DbType = Binary)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [InboxState]
OUTPUT 1
WHERE [Id] = @p0 AND [RowVersion] = @p1;
DELETE FROM [InboxState]
OUTPUT 1
WHERE [Id] = @p2 AND [RowVersion] = @p3;
2024-05-23 17:44:29.839 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:44:39.870 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:44:49.893 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:44:59.923 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:45:10.003 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:45:20.015 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:45:30.031 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:45:40.045 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:45:50.058 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:46:00.079 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:46:10.102 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:46:20.117 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:46:30.140 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:46:40.157 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:46:50.179 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:47:00.190 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:47:10.209 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:47:20.227 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:47:30.242 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:47:40.255 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:47:50.271 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:48:00.290 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:48:10.309 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:48:20.331 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:48:30.356 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:48:40.377 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:48:50.398 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:49:00.413 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:49:10.440 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:49:20.458 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:49:30.482 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:49:40.494 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:49:50.516 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:50:00.531 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:50:10.542 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:50:20.551 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:50:30.578 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:50:40.600 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:50:50.624 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:51:00.636 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:51:10.665 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:51:20.683 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:51:30.698 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:51:40.721 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:51:50.747 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:52:00.760 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:52:10.774 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:52:20.792 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:52:30.817 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:52:40.841 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:52:50.865 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:53:00.879 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:53:10.896 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:53:20.910 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:53:30.933 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:53:40.987 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:53:51.014 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:54:01.028 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:54:11.040 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:54:21.058 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:54:31.067 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:54:41.090 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:54:51.122 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
2024-05-23 17:55:01.151 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__removeTimestamp_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [i].[Id], [i].[Consumed], [i].[ConsumerId], [i].[Delivered], [i].[ExpirationTime], [i].[LastSequenceNumber], [i].[LockId], [i].[MessageId], [i].[ReceiveCount], [i].[Received], [i].[RowVersion]
FROM [InboxState] AS [i]
WHERE [i].[Delivered] IS NOT NULL AND [i].[Delivered] < @__removeTimestamp_0
ORDER BY [i].[Delivered]
